(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cbebb52"],{"0261":function(t,s,e){"use strict";var a=e("a08c"),n=e.n(a);n.a},"1f36":function(t,s,e){"use strict";var a=e("ef60"),n=e.n(a);n.a},"77a5":function(t,s,e){"use strict";e.d(s,"b",(function(){return c})),e.d(s,"a",(function(){return l}));var a=e("da71"),n=e("5ac7"),i=new n["a"];function c(){var t="https://c.y.qq.com/v8/fcg-bin/fcg_myqq_toplist.fcg",s=Object.assign({},a["d"],{uin:0,needNewCode:1,platform:"h5"});return i.jsonp(t,s,a["e"])}function l(t){var s="https://c.y.qq.com/v8/fcg-bin/fcg_v8_toplist_cp.fcg",e=Object.assign({},a["d"],{topid:t,needNewCode:1,uin:0,tpl:3,page:"detail",type:"top",platform:"h5"});return i.jsonp(s,e,a["e"])}},"7d2a":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"music-list"},[e("div",{ref:"title",staticClass:"title-wrapper"},[e("div",{staticClass:"back",on:{click:t.back}},[e("i",{staticClass:"icon-back"})]),e("div",{staticClass:"title"},[t._v(t._s(t.title))])]),e("div",{ref:"bg",staticClass:"background",style:t.bgStyle},[e("div",{ref:"mask",staticClass:"mask"}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.songs.length,expression:"songs.length"}],staticClass:"play-wrapper"},[e("div",{staticClass:"play-btn",on:{click:t.playAll}},[e("i",{staticClass:"icon-play"}),e("span",{staticClass:"text"},[t._v("随机播放全部")])])])]),e("div",{ref:"bgLayer",staticClass:"bg-layer"}),e("scroll",{ref:"scroll",staticClass:"song-scroll",attrs:{probeType:3,listenScroll:!0,tag:t.songs},on:{scroll:t.scroll}},[e("song-list",{attrs:{songs:t.songs,rank:t.rank},on:{selectSong:t.selectSong}})],1)],1)},n=[],i=(e("99af"),e("5530")),c=e("7771"),l=e("2b64"),r=e("1b9e"),o=e("470c"),f=e("5880"),u=new r["a"],g=u.prefixStyle("transform"),h=u.prefixStyle("filter"),b={mixins:[o["d"]],props:{bgImg:{type:String,default:""},songs:{type:Array,default:function(){return[]}},title:{type:String,default:""},rank:{type:Boolean,default:!1}},data:function(){return{scrollY:0}},components:{SongList:c["a"],Scroll:l["a"]},computed:{bgStyle:function(){return"background-image: url(".concat(this.bgImg,")")}},mounted:function(){this._setStyle(),this.minTranslate=-this.imageHeight+this.$refs.title.clientHeight},methods:Object(i["a"])({whenPlayList:function(t){var s=t.length?"60px":"";this.$refs.scroll.$el.style.bottom=s,this.$refs.scroll.refresh()},selectSong:function(t,s){this.selectPlay({list:this.songs,index:s})},scroll:function(t){this.scrollY=t.y},back:function(){this.$router.go(-1)},playAll:function(){this.selectPlayAll({list:this.songs})},_setStyle:function(){this.imageHeight=this.$refs.bg.clientHeight,this.$refs.scroll.$el.style.top="".concat(this.imageHeight,"px"),this.$refs.bgLayer.style.top="".concat(this.imageHeight,"px")}},Object(f["mapActions"])(["selectPlay","selectPlayAll"])),watch:{scrollY:function(t){var s=1,e=0,a=t/this.minTranslate,n=Math.abs(t/this.imageHeight);if(t>0?(s+=n,this.$refs.bg.style[g]="scale(".concat(s,")")):(e=Math.min(25*n,25),this.$refs.bg.style[h]="blur(".concat(e,"px)")),a>=.4&&a<=1){var i=Math.ceil(250*Math.pow(a,2)),c=Math.floor(250*Math.pow(1-a+.4,2));this.$refs.mask.style.background="rgba(".concat(i,", ").concat(i,", ").concat(i,", ").concat(a,")"),this.$refs.title.style.color="rgb(".concat(c,", ").concat(c,", ").concat(c,")")}t<this.minTranslate?(this.$refs.title.style.background="rgba(250, 250, 250, ".concat(a,")"),this.$refs.title.style.color="rgb(0, 0, 0)"):this.$refs.title.style.background=null,t>=0&&(this.$refs.mask.style.background="rgba(41, 41, 41, .3)",this.$refs.bg.style[h]="blur(0)",this.$refs.title.style.color="rgb(250, 250, 250)");var l=Math.max(t,this.minTranslate);this.$refs.bgLayer.style[g]="translateY(".concat(l,"px)")}}},p=b,d=(e("1f36"),e("2877")),y=Object(d["a"])(p,a,n,!1,null,"3da0f1a2",null);s["a"]=y.exports},a08c:function(t,s,e){},db71:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"rank-detail"},[e("music-list",{attrs:{title:t.rank.topTitle,bgImg:t.rank.picUrl,songs:t.songs,rank:!0}})],1)},n=[],i=(e("4160"),e("159b"),e("5530")),c=e("5880"),l=e("77a5"),r=e("a33c"),o=e("7d2a"),f=e("da71"),u=e("470c"),g={mixins:[u["a"]],data:function(){return{songs:[]}},components:{MusicList:o["a"]},computed:Object(i["a"])({},Object(c["mapState"])(["rank"])),created:function(){this._getMusicList()},methods:{_getMusicList:function(){var t=this;this.rank.id?Object(l["a"])(this.rank.id).then((function(s){s.code===f["a"]&&Object(r["c"])(t._normalizeSongs(s.songlist)).then((function(s){t.songs=s}))})):this.$router.push("/rank")},_normalizeSongs:function(t){var s=[];return t.forEach((function(t){var e=t.data;Object(r["b"])(e)&&s.push(Object(r["a"])(e))})),s}}},h=g,b=(e("0261"),e("2877")),p=Object(b["a"])(h,a,n,!1,null,"273f3828",null);s["default"]=p.exports},ef60:function(t,s,e){}}]);
//# sourceMappingURL=chunk-6cbebb52.343b31ca.js.map