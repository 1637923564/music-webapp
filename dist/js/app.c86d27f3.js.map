{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/tab/Tab.vue?2af2","webpack:///./src/api/search.js","webpack:///./src/common/util/index.js","webpack:///./src/base/loading/Loading.vue?2737","webpack:///src/base/loading/Loading.vue","webpack:///./src/base/loading/Loading.vue?b845","webpack:///./src/base/loading/Loading.vue","webpack:///./src/base/scroll/Scroll.vue?5d26","webpack:///src/base/scroll/Scroll.vue","webpack:///./src/base/scroll/Scroll.vue?2490","webpack:///./src/base/scroll/Scroll.vue","webpack:///./src/components/playlist/Playlist.vue?d903","webpack:///./src/base/top-tip/TopTip.vue?f1bb","webpack:///./src/App.vue?0c55","webpack:///./src/base/progress-bar/ProgressBar.vue?1efd","webpack:///./src/base/confirm/Confirm.vue?56a2","webpack:///./src/common/util/mixin.js","webpack:///./src/base/search-input/SearchInput.vue?0daf","webpack:///./src/base/toggle-button/ToggleButton.vue?c125","webpack:///./src/App.vue?ff3b","webpack:///./src/components/m-header/MHeader.vue?17cc","webpack:///./src/components/m-header/MHeader.vue","webpack:///./src/components/tab/Tab.vue?f1df","webpack:///src/components/tab/Tab.vue","webpack:///./src/components/tab/Tab.vue?3070","webpack:///./src/components/tab/Tab.vue","webpack:///./src/components/player/Player.vue?ad57","webpack:///./src/base/progress-bar/ProgressBar.vue?a21d","webpack:///src/base/progress-bar/ProgressBar.vue","webpack:///./src/base/progress-bar/ProgressBar.vue?5932","webpack:///./src/base/progress-bar/ProgressBar.vue","webpack:///./src/base/progress-circle/ProgressCircle.vue?d578","webpack:///src/base/progress-circle/ProgressCircle.vue","webpack:///./src/base/progress-circle/ProgressCircle.vue?b613","webpack:///./src/base/progress-circle/ProgressCircle.vue","webpack:///src/components/player/Player.vue","webpack:///./src/components/player/Player.vue?4313","webpack:///./src/components/player/Player.vue","webpack:///./src/components/playlist/Playlist.vue?e5e5","webpack:///./src/components/add-song/AddSong.vue?c0da","webpack:///src/components/add-song/AddSong.vue","webpack:///./src/components/add-song/AddSong.vue?6cce","webpack:///./src/components/add-song/AddSong.vue","webpack:///src/components/playlist/Playlist.vue","webpack:///./src/components/playlist/Playlist.vue?3e05","webpack:///./src/components/playlist/Playlist.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/common/util/cache.js","webpack:///./src/store/state.js","webpack:///./src/store/getters.js","webpack:///./src/store/mutations.js","webpack:///./src/store/actions.js","webpack:///./src/store/index.js","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///external \"Vuex\"","webpack:///./src/base/loading/loading.gif","webpack:///./src/common/util/request.js","webpack:///external \"VueRouter\"","webpack:///./src/components/player/Player.vue?1dac","webpack:///./src/components/m-header/MHeader.vue?de2a","webpack:///./src/common/image/default.png","webpack:///./src/components/search-result/SearchResult.vue?d96a","webpack:///./src/base/song-list/SongList.vue?1ad4","webpack:///src/base/song-list/SongList.vue","webpack:///./src/base/song-list/SongList.vue?ddbf","webpack:///./src/base/song-list/SongList.vue","webpack:///./src/components/search-result/SearchResult.vue?3dc0","webpack:///src/components/search-result/SearchResult.vue","webpack:///./src/components/search-result/SearchResult.vue?7cc4","webpack:///./src/components/search-result/SearchResult.vue","webpack:///./src/base/loading/Loading.vue?a8fe","webpack:///./src/base/confirm/Confirm.vue?b755","webpack:///src/base/confirm/Confirm.vue","webpack:///./src/base/confirm/Confirm.vue?f609","webpack:///./src/base/confirm/Confirm.vue","webpack:///external \"Vue\"","webpack:///./src/base/search-input/SearchInput.vue?759d","webpack:///src/base/search-input/SearchInput.vue","webpack:///./src/base/search-input/SearchInput.vue?1f44","webpack:///./src/base/search-input/SearchInput.vue","webpack:///./src/components/add-song/AddSong.vue?d17a","webpack:///external \"VueLazyload\"","webpack:///./src/common/util/song.js","webpack:///./src/base/progress-circle/ProgressCircle.vue?9767","webpack:///./src/base/toggle-button/ToggleButton.vue?4a20","webpack:///src/base/toggle-button/ToggleButton.vue","webpack:///./src/base/toggle-button/ToggleButton.vue?5882","webpack:///./src/base/toggle-button/ToggleButton.vue","webpack:///./src/common/config/index.js","webpack:///./src/base/top-tip/TopTip.vue?319b","webpack:///src/base/top-tip/TopTip.vue","webpack:///./src/base/top-tip/TopTip.vue?df7f","webpack:///./src/base/top-tip/TopTip.vue","webpack:///external \"axios\"","webpack:///./src/common/util/singer.js","webpack:///./src/common/util/uid.js","webpack:///./src/api/song.js","webpack:///./src/api/config.js","webpack:///./src/base/song-list/SongList.vue?b78a","webpack:///./src/base/history-list/HistoryList.vue?3349","webpack:///external \"BScroll\"","webpack:///./src/base/history-list/HistoryList.vue?ce46","webpack:///src/base/history-list/HistoryList.vue","webpack:///./src/base/history-list/HistoryList.vue?da30","webpack:///./src/base/history-list/HistoryList.vue"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","Request","getHotKey","url","assign","jsonpCommonParams","uin","needNewCode","platform","jsonp","jsonpOptions","search","query","page","zhida","perpage","w","catZhida","zhidaqu","flag","ie","sem","aggr","remoteplace","format","axios","params","res","Util","this","vender","vendor","el","className","hasClass","reg","RegExp","test","toString","encodeURIComponent","substring","attrName","val","prefix","elements","elsLen","position","clientHeight","elPositionSet","currentY","diffHeight","interval","intervalTo","style","time","TIME","RES_MINUTE","SECOND","resSecond","array","ret","LENGTH","getRandom","item","min","max","Math","floor","random","func","timer","arguments","elementStyle","transformNames","standard","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","loadingInfo","staticRenderFns","props","String","default","component","ref","on","toRefresh","_t","probeType","Number","click","Boolean","listenScroll","listenScrollEnd","scrollReady","mounted","_initScroll","methods","refresh","scroll","scrollY","scrollToElement","scrollTo","x","y","watch","$nextTick","util","playListMixin","computed","mapState","whenPlayList","playList","activated","newVal","modeMixin","iconMode","playMode","sequence","loop","changeMode","setMode","list","randomSort","sequenceList","_resetCurrentIndex","setPlayList","index","findIndex","id","currentSong","setCurrentIndex","searchMixin","hotKey","getQuery","selectResult","$refs","input","blur","addQuery","addVal","mapActions","collectMixin","mapGetters","collectedStyle","song","_getSameSong","collect","removeCollect","collectSong","collectList","closePlayerByRouter","mapMutations","beforeRouteLeave","to","from","next","fullScreen","setFullScreen","directives","rawName","expression","enter","afterEnter","leave","afterLeave","image","back","jumpSingerDetial","singer","showLyricStart","showLyricMove","showLyricEnd","class","recordCls","recordLyric","currentLyric","_l","refInFor","active","lyricIndex","txt","_e","showLyric","normalizeTime","percent","changeProgress","updateTime","duration","disableCls","$event","prevOrNext","playIcon","togglePlaying","unfold","domProps","miniPlayIcon","stopPropagation","showPlaylist","ready","onSongError","setCurrentTime","automaticNext","progressClick","dotTouchStart","dotTouchMove","dotTouchEnd","required","created","touch","never","init","touchX","touches","clientX","progressWidth","progress","clientWidth","currentX","moveX","resultX","MAX_PROGRESS","_setProgress","updatePercent","$emit","_getPercent","offsetX","width","btn","transform","currentWidth","dasharray","dashoffset","PI","mixins","songReady","currentTime","timeStopChange","playing","components","ProgressBar","ProgressCircle","Scroll","savePlayHistory","setShowPlaylist","setPlaying","togglePlay","audio","play","seek","isNext","CURRENT_TIME","0","60","100","animation","presets","easing","normalCD","transition","addEventListener","done","startX","pageX","startY","pageY","innerWidth","moveY","abs","offsetWidth","left","lyricScroll","$el","recordBox","opacity","$router","path","setSinger","singerUtil","addAvatar","_getVariation","X","Y","scale","SCALE","_getLyric","_lyricHandler","lineNum","lyricLine","now","old","currentPlaying","pause","close","playStatus","showConfirm","currentPlay","isActive","selectSong","delItem","showAddSong","cleanAll","fade","currentSelect","toggleView","playCurrentSong","searchHistory","removeHistory","playHistory","showFlag","SearchInput","SearchResult","HistoryList","ToggleButton","SongList","TopTip","topTip","show","insertSong","scrollSearch","scrollPlay","Confirm","AddSong","delPlaylist","addSong","clearPlaylists","confirm","mid","currentIndex","_scrollCurrent","_currentPlay","sequenceListIndex","MHeader","Tab","Player","Playlist","Storage","JSON","parse","localStorage","getItem","str","stringify","setItem","removeItem","options","unshift","maxLen","pop","del","STORAGE_SEARCH","storageKey","STORAGE_PLAY","STORAGE_COLLECT","storage","disk","rank","state","setDisk","setRank","setSequenceList","setSearchHistory","setPlayHistory","setCollectList","SEARCH_MAX_LENGTH","PLAY_MAX_LENGTH","COLLECT_MAX_LENGTH","selectPlay","commit","randomList","selectPlayAll","currentSongIndex","currentSIndex","sIndex","saveSearchHistory","insert","history","remove","playlist","tar","pIndex","Vue","use","Vuex","debug","process","Store","getters","mutations","actions","plugins","createLogger","VueRouter","Recommend","Rank","Search","Singer","SingerDetail","DiscDetail","RankDetail","MyCenter","routes","redirect","children","VueLazyload","loading","require","fastclick","attach","body","config","productionTip","store","router","h","App","$mount","indexOf","convertsQuery","originJsonp","arg","URL","headers","post","songs","computedIcon","computedText","album","Array","icon","Loading","searchMore","setIcon","setSongName","hasMore","info","showSinger","bottom","TYPE_SINGER","_setHistory","_normalizeSong","_hasMore","curpage","PERPAGE","totalnum","hasVerticalScroll","_normalizeRes","noSinger","singermid","forEach","title","confirmBtn","cancel","cancelBtn","isShow","hide","_m","placeholder","composing","clearVal","$watch","Song","singerMid","singer_mid","filename","isValidMusic","musicData","songid","albummid","pay","payalbumprice","createSong","songmid","filterSinger","songname","albumname","join","processUrl","getSongsUrl","purlMap","filter","purl","selectBtn","btnTitle","timer1","timer2","_setLeft","avatar","_uid","getUid","Date","getUTCMilliseconds","round","mids","types","urlMid","genUrlMid","tryTime","comm","req_0","ERR_OK","midurlinfo","keys","retry","getLyric","hostUin","categoryId","pcachetime","guid","method","param","songtype","loginflag","commonParams","g_tk","inCharset","outCharset","notice","loginUin","commonHeaders","origin","referer","BScroll","selectHistory","removeOne"],"mappings":"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","file":"js/app.c86d27f3.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-110968a0\":\"4a50ce01\",\"chunk-559ee951\":\"af95d7b1\",\"chunk-59571092\":\"f053ca44\",\"chunk-6cbebb52\":\"343b31ca\",\"chunk-6fefa0fe\":\"ae78249b\",\"chunk-b8596bf6\":\"a80566a0\",\"chunk-f57adf82\":\"d065e597\",\"chunk-fea9303a\":\"111cf119\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-110968a0\":1,\"chunk-559ee951\":1,\"chunk-59571092\":1,\"chunk-6cbebb52\":1,\"chunk-6fefa0fe\":1,\"chunk-b8596bf6\":1,\"chunk-f57adf82\":1,\"chunk-fea9303a\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-110968a0\":\"ff4f3e70\",\"chunk-559ee951\":\"82c5a777\",\"chunk-59571092\":\"6335d90b\",\"chunk-6cbebb52\":\"305875c7\",\"chunk-6fefa0fe\":\"84fad7de\",\"chunk-b8596bf6\":\"380446fd\",\"chunk-f57adf82\":\"b73d0f63\",\"chunk-fea9303a\":\"e6ba51f0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=style&index=0&id=4b1248be&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=style&index=0&id=4b1248be&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","import axios from 'axios'\r\n\r\nimport { jsonpCommonParams, jsonpOptions } from './config'\r\nimport Request from '../common/util/request'\r\n\r\nconst request = new Request()\r\n\r\nexport function getHotKey () {\r\n  const url = 'https://c.y.qq.com/splcloud/fcgi-bin/gethotkey.fcg'\r\n\r\n  const data = Object.assign({}, jsonpCommonParams, {\r\n    uin: 0,\r\n    needNewCode: 1,\r\n    platform: 'h5'\r\n  })\r\n\r\n  return request.jsonp(url, data, jsonpOptions)\r\n}\r\n\r\n/**\r\n *\r\n * @param {*} query 输入的内容\r\n * @param {Number} page 当前所在页码\r\n * @param {Boolean} zhida 是否需要检索歌手\r\n * @param {Number} perpage 每页返回的数据数量\r\n */\r\nexport function search(query, page, zhida, perpage) {\r\n  const url = '/api/search'\r\n\r\n  const data = Object.assign({}, jsonpCommonParams, {\r\n    w: query,\r\n    p: page,\r\n    perpage,\r\n    n: perpage,\r\n    catZhida: zhida ? 1 : 0,\r\n    zhidaqu: 1,\r\n    t: 0,\r\n    flag: 1,\r\n    ie: 'utf-8',\r\n    sem: 1,\r\n    aggr: 0,\r\n    remoteplace: 'txt.mqq.all',\r\n    uin: 0,\r\n    needNewCode: 1,\r\n    platform: 'h5',\r\n    format: 'json'\r\n  })\r\n\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n","/**\r\n * 工具类\r\n * @class\r\n */\r\nexport default class Util {\r\n  constructor() {\r\n    this.vender = vendor()\r\n  }\r\n\r\n  /**\r\n   * 为元素节点添加新的类\r\n   * @param {*} el 目标元素节点\r\n   * @param {*} className 需要进行添加的类名\r\n   */\r\n  addClass(el, className) {\r\n    if (!this.hasClass(el, className)) {\r\n      el.className += el.className === ''\r\n        ? className\r\n        : ` ${className}`\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 判断元素节点是否存在某个类名\r\n   * @param {*} el 目标元素节点\r\n   * @param {*} className 需要进行检索的类名\r\n   */\r\n  hasClass(el, className) {\r\n    const reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)')\r\n    return reg.test(el.className)\r\n  }\r\n\r\n  /**\r\n   * 将对象转换为\"&key=value&key2=value2\"\r\n   * @param {*} data 需要进行操作的对象\r\n   */\r\n  convertsQuery(data) {\r\n    if (!(Object.prototype.toString.call(data) === '[object Object]')) {\r\n      throw new Error('convertsQuery的参数必须传入一个对象')\r\n    }\r\n    let url = ''\r\n    let key\r\n    let value\r\n    for (key in data) {\r\n      value = data[key] !== undefined\r\n        ? data[key]\r\n        : ''\r\n      url += `&${key}=${encodeURIComponent(value)}`\r\n    }\r\n    return url ? url.substring(1) : ''\r\n  }\r\n\r\n  /**\r\n   * 设置(获取)某元素上的属性值\r\n   * @param {*} el 目标元素节点\r\n   * @param {String} attrName 数据的名称\r\n   * @param {*} val 需要设置的数据(是否填写该参数决定了该方法是getter还是setter)\r\n   */\r\n  attr(el, attrName, val) {\r\n    const prefix = 'data-'\r\n    const name = prefix + attrName\r\n    if (val) {\r\n      return el.setAttribute(name, val)\r\n    } else {\r\n      return el.getAttribute(name)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取目标元素到父容器顶部的距离，并将其放进同一个数组\r\n   * @param {*} elements 元素节点的集合\r\n   * @return Array 各个元素位置的集合\r\n   */\r\n  getElPosition(elements) {\r\n    const elsLen = elements.length\r\n    const result = [0]\r\n    let position = 0\r\n\r\n    for (let i = 0; i < elsLen; i++) {\r\n      position += elements[i].clientHeight\r\n      result.push(position)\r\n    }\r\n    return result\r\n  }\r\n\r\n  /**\r\n   * 通过滚动到的位置，获取\r\n   * @param {Array} elPositionSet 一个元素位置的集合\r\n   * @param {Number} currentY 滚动到的位置\r\n   */\r\n  getCurrentIndex(elPositionSet, currentY) {\r\n    const length = elPositionSet.length\r\n    let diffHeight = 0\r\n    let result = 0\r\n\r\n    for (let i = 0; i < length; i++) {\r\n      const interval = elPositionSet[i]\r\n      const intervalTo = elPositionSet[i + 1]\r\n      if ((!intervalTo || (currentY <= intervalTo)) && (currentY >= interval)) {\r\n        result = i\r\n        diffHeight = intervalTo - currentY\r\n      }\r\n    }\r\n    return { result, diffHeight }\r\n  }\r\n\r\n  /**\r\n   * 对样式作兼容性处理\r\n   * @param {String} style css的属性名\r\n   */\r\n  prefixStyle(style) {\r\n    if (this.vender === false) {\r\n      return false\r\n    }\r\n\r\n    if (this.vender === 'standard') {\r\n      return style\r\n    }\r\n    return this.vender + style\r\n  }\r\n\r\n  /**\r\n   * 将以秒为单位的时间转换为 m : ss 的分秒形式\r\n   * @param {Number} time 以秒为单位的时间\r\n   */\r\n  normalizeTime(time) {\r\n    const TIME = time | 0\r\n    const RES_MINUTE = TIME / 60 | 0\r\n    const SECOND = TIME % 60\r\n    let resSecond = SECOND.toString()\r\n    while (resSecond.length < 2) {\r\n      resSecond = '0' + resSecond\r\n    }\r\n    return `${RES_MINUTE}:${resSecond}`\r\n  }\r\n\r\n  /**\r\n   * 返回一个随机排列的数组\r\n   * @param {Array} array\r\n   */\r\n  randomSort(array) {\r\n    const [...ret] = array // 防止修改原数组\r\n    const LENGTH = ret.length\r\n    for (let i = 0; i < LENGTH; i++) {\r\n      const j = this.getRandom(0, i)\r\n      const item = ret[j]\r\n      ret[j] = ret[i]\r\n      ret[i] = item\r\n    }\r\n    return ret\r\n  }\r\n\r\n  /**\r\n   * 生成一个[min, max] 的随机数\r\n   * @param {Number} min 最小值\r\n   * @param {Number} max 最大值\r\n   */\r\n  getRandom(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1) + min)\r\n  }\r\n\r\n  /**\r\n   * 延时执行\r\n   * @param {Function} fun 需要延时执行的函数\r\n   * @param {Number} interval 间隔时间\r\n   */\r\n  throttle(func, interval) {\r\n    let timer\r\n    return function () {\r\n      if (timer) {\r\n        clearTimeout(timer)\r\n      }\r\n\r\n      timer = setTimeout(() => {\r\n        func.apply(this, arguments)\r\n      }, interval)\r\n    }\r\n  }\r\n  // TODO:util.js\r\n}\r\n\r\nconst elementStyle = document.createElement('div').style\r\n// 利用 css 的 transform 属性来判断该怎么作兼容性处理\r\nfunction vendor () {\r\n  const transformNames = {\r\n    '-webkit-': '-webkit-transform',\r\n    '-moz-': '-moz-transform',\r\n    '-ms-': '-ms-transform',\r\n    '-o-': '-o-transform',\r\n    standard: 'transform'\r\n  }\r\n\r\n  for (const key in transformNames) {\r\n    if (elementStyle[transformNames[key]] !== undefined) {\r\n      return key\r\n    }\r\n  }\r\n\r\n  return false\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading\"},[_c('img',{attrs:{\"src\":require(\"./loading.gif\")}}),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.loadingInfo))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"loading\">\r\n    <img src=\"./loading.gif\">\r\n    <span class=\"text\">{{ loadingInfo }}</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    loadingInfo: {\r\n      type: String,\r\n      default: '正在载入...'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\r\n.loading\r\n  display flex\r\n  flex-direction column\r\n  align-items center\r\n  font-size 15px\r\n  img\r\n    width 24px\r\n    height 24px\r\n    margin-bottom 5px\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=4d0206d3&scoped=true&\"\nimport script from \"./Loading.vue?vue&type=script&lang=js&\"\nexport * from \"./Loading.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loading.vue?vue&type=style&index=0&id=4d0206d3&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d0206d3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"scroll\",staticClass:\"scroll\",on:{\"touchstart\":_vm.toRefresh}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"scroll\" ref=\"scroll\" @touchstart=\"toRefresh\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BScroll from 'better-scroll'\r\n\r\nexport default {\r\n  props: {\r\n    probeType: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    click: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    tag: {\r\n      default: null\r\n    },\r\n    listenScroll: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    listenScrollEnd: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    scrollReady: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  mounted() {\r\n    this._initScroll()\r\n  },\r\n  methods: {\r\n    toRefresh() {\r\n      this.refresh()\r\n    },\r\n    // 初始化better-scroll\r\n    _initScroll() {\r\n      this.scroll = new BScroll(this.$refs.scroll, {\r\n        probeType: this.probeType,\r\n        click: this.click,\r\n        scrollY: true\r\n      })\r\n\r\n      if (this.listenScroll) {\r\n        this.scroll.on('scroll', coor => {\r\n          this.$emit('scroll', coor)\r\n        })\r\n      }\r\n\r\n      if (this.listenScrollEnd) {\r\n        this.scroll.on('scrollEnd', () => {\r\n          if (this.scroll.y <= this.scroll.maxScrollY + 50) {\r\n            this.$emit('onScrollToEnd')\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 重新初始化better-scroll\r\n    refresh() {\r\n      this.scroll.refresh()\r\n    },\r\n    // 滚动到某个位置\r\n    scrollToElement(el, time) {\r\n      this.scroll.scrollToElement(el, time)\r\n    },\r\n    scrollTo(x, y, time) {\r\n      this.scroll.scrollTo(x, y, time)\r\n    }\r\n  },\r\n  watch: {\r\n    tag() {\r\n      this.$nextTick(() => {\r\n        this.refresh()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"stylus\">\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scroll.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scroll.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Scroll.vue?vue&type=template&id=9611a5b8&\"\nimport script from \"./Scroll.vue?vue&type=script&lang=js&\"\nexport * from \"./Scroll.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=style&index=0&id=1f625961&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=style&index=0&id=1f625961&lang=stylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopTip.vue?vue&type=style&index=0&id=55076256&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopTip.vue?vue&type=style&index=0&id=55076256&lang=stylus&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=2cecf180&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=2cecf180&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressBar.vue?vue&type=style&index=0&id=8b59da94&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressBar.vue?vue&type=style&index=0&id=8b59da94&lang=stylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=style&index=0&id=fb78aac0&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=style&index=0&id=fb78aac0&lang=stylus&scoped=true&\"","import { mapState, mapActions, mapGetters, mapMutations } from 'vuex'\r\nimport { playMode } from '../../common/config'\r\nimport Util from '../util'\r\n\r\nconst util = new Util()\r\n\r\nexport const playListMixin = {\r\n  computed: {\r\n    ...mapState(['playList'])\r\n  },\r\n  mounted() {\r\n    this.whenPlayList(this.playList)\r\n  },\r\n  activated() {\r\n    this.whenPlayList(this.playList)\r\n  },\r\n  watch: {\r\n    playList(newVal) {\r\n      this.whenPlayList(newVal)\r\n    }\r\n  },\r\n  methods: {\r\n    whenPlayList() {\r\n      throw new Error('componet must implement `whenPlayList` method')\r\n    }\r\n  }\r\n}\r\n\r\nexport const modeMixin = {\r\n  computed: {\r\n    iconMode() {\r\n      switch (this.mode) {\r\n        case playMode.sequence:\r\n          return 'icon-sequence'\r\n        case playMode.loop:\r\n          return 'icon-loop'\r\n        case playMode.random:\r\n          return 'icon-random'\r\n      }\r\n      return ''\r\n    }\r\n  },\r\n  methods: {\r\n    changeMode() {\r\n      const mode = (this.mode + 1) % 3\r\n      this.setMode(mode)\r\n      let list = null\r\n      // 选择随机播放时\r\n      if (mode === playMode.random) {\r\n        list = util.randomSort(this.sequenceList)\r\n      } else {\r\n        list = this.sequenceList\r\n      }\r\n      // 播放的歌曲索引也要同步更新为随机列表里的索引\r\n      this._resetCurrentIndex(list)\r\n      this.setPlayList(list)\r\n    },\r\n    _resetCurrentIndex(list) {\r\n      const index = list.findIndex(item => {\r\n        return item.id === this.currentSong.id\r\n      })\r\n      this.setCurrentIndex(index)\r\n    }\r\n  }\r\n}\r\n\r\nexport const searchMixin = {\r\n  data() {\r\n    return {\r\n      query: '',\r\n      hotKey: []\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'searchHistory'\r\n    ])\r\n  },\r\n  methods: {\r\n    getQuery(query) {\r\n      this.query = query\r\n    },\r\n    selectResult(item) {\r\n      this.$refs.input.blur()\r\n    },\r\n    addQuery(val) {\r\n      this.$refs.input.addVal(val)\r\n    },\r\n    ...mapActions([\r\n      'removeHistory'\r\n    ])\r\n  }\r\n}\r\n\r\nexport const collectMixin = {\r\n  computed: {\r\n    ...mapState(['collectList']),\r\n    ...mapGetters(['currentSong'])\r\n  },\r\n  methods: {\r\n    collectedStyle(song) {\r\n      const index = this._getSameSong(song)\r\n      if (index > -1) {\r\n        return 'icon-favorite'\r\n      }\r\n      return 'icon-not-favorite'\r\n    },\r\n    collect(song) {\r\n      const index = this._getSameSong(song)\r\n      if (index > -1) {\r\n        this.removeCollect(index)\r\n      } else {\r\n        this.collectSong(song)\r\n      }\r\n    },\r\n    _getSameSong(song) {\r\n      const collectList = this.collectList || []\r\n      const index = collectList.findIndex(item => {\r\n        return item.id === song.id\r\n      })\r\n      return index\r\n    },\r\n    ...mapActions([\r\n      'removeCollect',\r\n      'collectSong'\r\n    ])\r\n  }\r\n}\r\n\r\nexport const closePlayerByRouter = {\r\n  computed: {\r\n    ...mapState(['fullScreen'])\r\n  },\r\n  methods: {\r\n    ...mapMutations(['setFullScreen'])\r\n  },\r\n  beforeRouteLeave (to, from, next) {\r\n    if (this.fullScreen) {\r\n      this.setFullScreen(false)\r\n      next(false)\r\n    } else {\r\n      next()\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=style&index=0&id=373351e4&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=style&index=0&id=373351e4&lang=stylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToggleButton.vue?vue&type=style&index=0&id=a5999318&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToggleButton.vue?vue&type=style&index=0&id=a5999318&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[_c('m-header'),_c('tab'),_c('transition',{attrs:{\"name\":\"router-fade\"}},[_c('keep-alive',[_c('router-view')],1)],1),_c('player'),_c('playlist')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-header\"},[_c('div',{staticClass:\"logo\"}),_c('div',{staticClass:\"title\"},[_vm._v(\"OwnMusic\")]),_c('div',{staticClass:\"center-btn\"},[_c('router-link',{staticClass:\"icon-mine\",attrs:{\"to\":\"/center\",\"tag\":\"i\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./MHeader.vue?vue&type=template&id=a7014264&scoped=true&\"\nvar script = {}\nimport style0 from \"./MHeader.vue?vue&type=style&index=0&id=a7014264&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a7014264\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab\"},[_c('router-link',{staticClass:\"tab-item\",attrs:{\"to\":\"/recommend\",\"tag\":\"div\"}},[_c('span',{staticClass:\"tab-link\"},[_vm._v(\"推荐\")])]),_c('router-link',{staticClass:\"tab-item\",attrs:{\"to\":\"/singer\",\"tag\":\"div\"}},[_c('span',{staticClass:\"tab-link\"},[_vm._v(\"歌手\")])]),_c('router-link',{staticClass:\"tab-item\",attrs:{\"to\":\"/rank\",\"tag\":\"div\"}},[_c('span',{staticClass:\"tab-link\"},[_vm._v(\"排行\")])]),_c('router-link',{staticClass:\"tab-item\",attrs:{\"to\":\"/search\",\"tag\":\"div\"}},[_c('span',{staticClass:\"tab-link\"},[_vm._v(\"搜索\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"tab\">\r\n    <router-link to=\"/recommend\" tag=\"div\" class=\"tab-item\">\r\n      <span class=\"tab-link\">推荐</span>\r\n    </router-link>\r\n    <router-link to=\"/singer\" tag=\"div\" class=\"tab-item\">\r\n      <span class=\"tab-link\">歌手</span>\r\n    </router-link>\r\n    <router-link to=\"/rank\" tag=\"div\" class=\"tab-item\">\r\n      <span class=\"tab-link\">排行</span>\r\n    </router-link>\r\n    <router-link to=\"/search\" tag=\"div\" class=\"tab-item\">\r\n      <span class=\"tab-link\">搜索</span>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\r\n@import '../../common/stylus/mixin'\r\n@import '../../common/stylus/variable'\r\n.tab {\r\n  display flex\r\n  height 44px\r\n  color #2c3e50\r\n  font-size 15px\r\n  .tab-item {\r\n    flex 1\r\n    height 100%\r\n    flex-center()\r\n    .tab-link {\r\n      padding-bottom 5px}\r\n    &.router-link-active>.tab-link {\r\n      color: #22d59c\r\n      border-bottom: 3px solid #22d59c\r\n      font-size 16px\r\n      font-weight bold}}}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tab.vue?vue&type=template&id=4b1248be&scoped=true&\"\nimport script from \"./Tab.vue?vue&type=script&lang=js&\"\nexport * from \"./Tab.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tab.vue?vue&type=style&index=0&id=4b1248be&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b1248be\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playList.length),expression:\"playList.length\"}],staticClass:\"player\"},[_c('transition',{attrs:{\"name\":\"normal\"},on:{\"enter\":_vm.enter,\"after-enter\":_vm.afterEnter,\"leave\":_vm.leave,\"after-leave\":_vm.afterLeave}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fullScreen),expression:\"fullScreen\"}],staticClass:\"normal-palyer\"},[_c('div',{staticClass:\"black-mask\"}),_c('div',{staticClass:\"background-wrapper\"},[_c('img',{attrs:{\"src\":_vm.currentSong.image}})]),_c('div',{staticClass:\"title-wrapper\"},[_c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"icon-wrapper\",on:{\"click\":_vm.back}},[_c('i',{staticClass:\"icon-back\"})]),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.currentSong.name))])]),_c('div',{staticClass:\"singer\"},[_c('span',{on:{\"click\":_vm.jumpSingerDetial}},[_vm._v(_vm._s(_vm.currentSong.singer))])])]),_c('div',{staticClass:\"player-body\",on:{\"touchstart\":_vm.showLyricStart,\"touchmove\":_vm.showLyricMove,\"touchend\":_vm.showLyricEnd}},[_c('div',{ref:\"recordBox\",staticClass:\"record-box\"},[_c('div',{ref:\"normalCD\",staticClass:\"record-wrapper\"},[_c('img',{staticClass:\"record\",class:_vm.recordCls,attrs:{\"src\":_vm.currentSong.image}})]),_c('div',{staticClass:\"record-lyric\"},[_vm._v(_vm._s(_vm.recordLyric))])]),_c('scroll',{ref:\"lyricScroll\",staticClass:\"lyric-box\",attrs:{\"tag\":_vm.currentLyric}},[_c('div',{staticClass:\"lyric-wrapper\"},[(_vm.currentLyric)?_c('ul',{staticClass:\"list\"},_vm._l((_vm.currentLyric.lines),function(item,index){return _c('li',{key:index,ref:\"lyricLine\",refInFor:true,staticClass:\"lyric\",class:{active: index === _vm.lyricIndex}},[_vm._v(\" \"+_vm._s(item.txt)+\" \")])}),0):_vm._e()])])],1),_c('div',{staticClass:\"control-wrapper\"},[_c('div',{staticClass:\"dot-wrapper\"},[_c('span',{staticClass:\"dot\",class:{ active: !_vm.showLyric }}),_c('span',{staticClass:\"dot\",class:{ active: _vm.showLyric }})]),_c('div',{staticClass:\"progress-wrapper\"},[_c('span',{staticClass:\"current-time\"},[_vm._v(_vm._s(_vm.normalizeTime))]),_c('div',{staticClass:\"progress-bar\"},[_c('progress-bar',{attrs:{\"percent\":_vm.percent},on:{\"changeProgress\":_vm.changeProgress,\"updateTime\":_vm.updateTime}})],1),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.duration))])]),_c('div',{staticClass:\"control-panel\"},[_c('div',{staticClass:\"icon i-left\"},[_c('i',{class:_vm.iconMode,on:{\"click\":_vm.changeMode}})]),_c('div',{staticClass:\"icon i-left\"},[_c('i',{staticClass:\"icon-prev\",class:_vm.disableCls,on:{\"click\":function($event){return _vm.prevOrNext()}}})]),_c('div',{staticClass:\"icon i-center\"},[_c('i',{class:_vm.playIcon + ' ' + _vm.disableCls,on:{\"click\":_vm.togglePlaying}})]),_c('div',{staticClass:\"icon i-right\"},[_c('i',{staticClass:\"icon-next\",class:_vm.disableCls,on:{\"click\":function($event){return _vm.prevOrNext(true)}}})]),_c('div',{staticClass:\"icon i-right\"},[_c('i',{staticClass:\"icon\",class:_vm.collectedStyle(_vm.currentSong),on:{\"click\":function($event){return _vm.collect(_vm.currentSong)}}})])])])])]),_c('transition',{attrs:{\"name\":\"mini\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.fullScreen),expression:\"!fullScreen\"}],staticClass:\"mini-player\",on:{\"click\":_vm.unfold}},[_c('div',{staticClass:\"icon\"},[_c('div',{staticClass:\"img-wrapper\"},[_c('img',{ref:\"miniCD\",class:_vm.recordCls,attrs:{\"src\":_vm.currentSong.image}})])]),_c('div',{staticClass:\"text\"},[_c('h2',{staticClass:\"name\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.name)}}),_c('p',{staticClass:\"desc\",domProps:{\"innerHTML\":_vm._s(_vm.currentSong.singer)}})]),_c('div',{staticClass:\"control\"},[_c('progress-circle',{attrs:{\"percent\":_vm.percent},on:{\"togglePlaying\":_vm.togglePlaying}},[_c('i',{class:_vm.miniPlayIcon})])],1),_c('div',{staticClass:\"control\"},[_c('i',{staticClass:\"icon-playlist\",on:{\"click\":function($event){$event.stopPropagation();return _vm.showPlaylist($event)}}})])])]),_c('audio',{ref:\"audio\",attrs:{\"src\":_vm.currentSong.url},on:{\"canplay\":_vm.ready,\"error\":_vm.onSongError,\"timeupdate\":_vm.setCurrentTime,\"ended\":_vm.automaticNext}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"progressBar\",staticClass:\"progress-bar\",on:{\"click\":_vm.progressClick}},[_c('div',{ref:\"progress\",staticClass:\"progress\"}),_c('div',{ref:\"btn\",staticClass:\"progress-btn\",on:{\"touchstart\":_vm.dotTouchStart,\"touchmove\":_vm.dotTouchMove,\"touchend\":_vm.dotTouchEnd,\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"progress-btn-center\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"progress-bar\" ref=\"progressBar\" @click=\"progressClick\">\r\n    <div class=\"progress\" ref=\"progress\"></div>\r\n    <div class=\"progress-btn\"\r\n          ref=\"btn\"\r\n          @touchstart=\"dotTouchStart\"\r\n          @touchmove=\"dotTouchMove\"\r\n          @touchend=\"dotTouchEnd\"\r\n          @click.stop\r\n    >\r\n      <div class=\"progress-btn-center\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Util from '../../common/util'\r\nimport { mapState } from 'vuex'\r\n\r\nconst util = new Util()\r\n\r\nconst transform = util.prefixStyle('transform')\r\nconst BUTTON_WIDTH = 16\r\n\r\nexport default {\r\n  props: {\r\n    percent: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  created() {\r\n    this.touch = {}\r\n  },\r\n  computed: {\r\n    ...mapState(['fullScreen'])\r\n  },\r\n  methods: {\r\n    never() {},\r\n    dotTouchStart(e) {\r\n      this.touch.init = true\r\n      this.touch.touchX = e.touches[0].clientX\r\n      this.touch.progressWidth = this.$refs.progress.clientWidth\r\n    },\r\n    dotTouchMove(e) {\r\n      if (this.touch.init === true) {\r\n        this.touch.currentX = e.touches[0].clientX\r\n        const MAX_PROGRESS = this.$refs.progressBar.clientWidth - BUTTON_WIDTH\r\n        // 手指移动的距离\r\n        this.touch.moveX = this.touch.currentX - this.touch.touchX\r\n        this.touch.resultX = Math.min(Math.max(0, this.touch.moveX + this.touch.progressWidth), MAX_PROGRESS)\r\n        this._setProgress(this.touch.resultX)\r\n        this.updatePercent = this.$refs.progress.clientWidth / MAX_PROGRESS\r\n        // 播放时间也得随着进度条的拖动而更新\r\n        this.$emit('updateTime', this.updatePercent)\r\n      }\r\n    },\r\n    dotTouchEnd(e) {\r\n      this.updatePercent = -1\r\n      this.$emit('updateTime', this.updatePercent) // 松开手指时时间继续更新\r\n      this.touch.init = false\r\n      this._getPercent()\r\n    },\r\n    progressClick(e) {\r\n      // 点击进度条的小圆圈时不能获取到我需要的offset,所以需要在template中阻止小圆点的事件冒泡\r\n      this._setProgress(e.offsetX)\r\n      this._getPercent()\r\n    },\r\n    _setProgress(width) {\r\n      this.$refs.progress.style.width = width + 'px'\r\n      this.$refs.btn.style[transform] = `translateX(${width}px)`\r\n    },\r\n    _getPercent() {\r\n      const percent = this.$refs.progress.clientWidth / (this.$refs.progressBar.clientWidth - BUTTON_WIDTH)\r\n      this.$emit('changeProgress', percent)\r\n    }\r\n  },\r\n  watch: {\r\n    percent(current) {\r\n      if (!this.touch.init) {\r\n        const progressMaxWidth = this.$refs.progressBar.clientWidth - BUTTON_WIDTH\r\n        const currentWidth = progressMaxWidth * current\r\n        this._setProgress(currentWidth)\r\n      }\r\n    },\r\n    fullScreen() {\r\n      // 修复mini播放器暂停播放后,打开播放界面进度条为零的问题\r\n      if (this.fullScreen) {\r\n        const progressMaxWidth = this.$refs.progressBar.clientWidth - BUTTON_WIDTH\r\n        const currentWidth = progressMaxWidth * this.percent\r\n        this._setProgress(currentWidth)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '../../common/stylus/variable';\r\n@import '../../common/stylus/mixin';\r\n.progress-bar {\r\n  width 100%\r\n  height 4px\r\n  background $color-background-d\r\n  position relative\r\n  .progress {\r\n    height 100%\r\n    background #22d59c\r\n    width 0\r\n  }\r\n  .progress-btn {\r\n    position absolute\r\n    top -6px\r\n    left 0\r\n    width 16px\r\n    height 16px\r\n    border-radius 50%\r\n    background #fff\r\n    flex-center()\r\n    .progress-btn-center {\r\n      width 50%\r\n      height 50%\r\n      background #22d59c\r\n      border-radius 50%\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProgressBar.vue?vue&type=template&id=8b59da94&scoped=true&\"\nimport script from \"./ProgressBar.vue?vue&type=script&lang=js&\"\nexport * from \"./ProgressBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProgressBar.vue?vue&type=style&index=0&id=8b59da94&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b59da94\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"progress-circle\",on:{\"click\":function($event){$event.stopPropagation();return _vm.togglePlaying($event)}}},[_vm._t(\"default\"),_c('svg',{attrs:{\"width\":\"32\",\"height\":\"32\",\"viewBox\":\"0 0 100 100\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('circle',{staticClass:\"progress-background\",attrs:{\"r\":\"50\",\"cx\":\"50\",\"cy\":\"50\",\"fill\":\"transparent\"}}),_c('circle',{staticClass:\"progress-bar\",attrs:{\"r\":\"51\",\"cx\":\"50\",\"cy\":\"50\",\"fill\":\"transparent\",\"stroke-dasharray\":_vm.dasharray,\"stroke-dashoffset\":_vm.dashoffset}})])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"progress-circle\" @click.stop=\"togglePlaying\">\r\n    <slot></slot>\r\n    <svg width=\"32\"\r\n         height=\"32\"\r\n         viewBox=\"0 0 100 100\"\r\n         version=\"1.1\"\r\n         xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <circle class=\"progress-background\" r=\"50\" cx=\"50\" cy=\"50\" fill=\"transparent\"/>\r\n      <circle class=\"progress-bar\" r=\"51\" cx=\"50\" cy=\"50\" fill=\"transparent\" :stroke-dasharray=\"dasharray\"\r\n              :stroke-dashoffset=\"dashoffset\"/>\r\n    </svg>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    percent: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  computed: {\r\n    dasharray() {\r\n      return Math.PI * 50 * 2\r\n    },\r\n    dashoffset() {\r\n      return (1 - this.percent) * this.dasharray\r\n    }\r\n  },\r\n  methods: {\r\n    togglePlaying() {\r\n      this.$emit('togglePlaying')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import \"../../common/stylus/variable\"\r\n\r\n.progress-circle{\r\n  position: relative\r\n  svg {\r\n    position absolute\r\n    z-index 1\r\n    circle{\r\n      stroke-width: 8px\r\n      transform-origin: center\r\n      &.progress-background{\r\n        transform: scale(0.9)\r\n        stroke: #2c3e50\r\n      }\r\n      &.progress-bar{\r\n        transform: scale(0.9) rotate(-90deg)\r\n        stroke: #22d59c\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressCircle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressCircle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProgressCircle.vue?vue&type=template&id=cb8f7fc0&scoped=true&\"\nimport script from \"./ProgressCircle.vue?vue&type=script&lang=js&\"\nexport * from \"./ProgressCircle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProgressCircle.vue?vue&type=style&index=0&id=cb8f7fc0&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cb8f7fc0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"player\" v-show=\"playList.length\">\r\n    <transition name=\"normal\"\r\n                @enter=\"enter\"\r\n                @after-enter=\"afterEnter\"\r\n                @leave=\"leave\"\r\n                @after-leave=\"afterLeave\"\r\n    >\r\n      <div class=\"normal-palyer\" v-show=\"fullScreen\">\r\n        <div class=\"black-mask\"></div>\r\n        <div class=\"background-wrapper\">\r\n          <img :src=\"currentSong.image\">\r\n        </div>\r\n        <!-- 标题栏 -->\r\n        <div class=\"title-wrapper\">\r\n          <div class=\"title\">\r\n            <span @click=\"back\" class=\"icon-wrapper\"><i class=\"icon-back\"></i></span>\r\n            <span class=\"text\">{{ currentSong.name }}</span>\r\n          </div>\r\n          <div class=\"singer\">\r\n            <span @click=\"jumpSingerDetial\">{{ currentSong.singer }}</span>\r\n          </div>\r\n        </div>\r\n        <!-- body -->\r\n        <div class=\"player-body\"\r\n             @touchstart=\"showLyricStart\"\r\n             @touchmove=\"showLyricMove\"\r\n             @touchend=\"showLyricEnd\"\r\n        >\r\n          <!-- 唱片界面 -->\r\n          <div class=\"record-box\" ref=\"recordBox\">\r\n            <div class=\"record-wrapper\" ref=\"normalCD\">\r\n              <img :src=\"currentSong.image\" class=\"record\" :class=\"recordCls\">\r\n            </div>\r\n            <div class=\"record-lyric\">{{ recordLyric }}</div>\r\n          </div>\r\n          <!-- 歌词界面 -->\r\n          <scroll class=\"lyric-box\" ref=\"lyricScroll\" :tag=\"currentLyric\">\r\n            <div class=\"lyric-wrapper\">\r\n              <ul class=\"list\" v-if=\"currentLyric\">\r\n                <li class=\"lyric\"\r\n                    ref=\"lyricLine\"\r\n                    :class=\"{active: index === lyricIndex}\"\r\n                    v-for=\"(item, index) in currentLyric.lines\"\r\n                    :key=\"index\"\r\n                >\r\n                  {{ item.txt }}\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </scroll>\r\n        </div>\r\n        <!-- 控制栏 -->\r\n        <div class=\"control-wrapper\">\r\n          <!-- 切换歌词和唱片的按钮 -->\r\n          <div class=\"dot-wrapper\">\r\n            <span class=\"dot\" :class=\"{ active: !showLyric }\"></span>\r\n            <span class=\"dot\" :class=\"{ active: showLyric }\"></span>\r\n          </div>\r\n          <!-- 进度条  -->\r\n          <div class=\"progress-wrapper\">\r\n            <span class=\"current-time\">{{ normalizeTime }}</span>\r\n            <div class=\"progress-bar\">\r\n              <progress-bar :percent=\"percent\"\r\n                            @changeProgress=\"changeProgress\"\r\n                            @updateTime=\"updateTime\"\r\n              />\r\n            </div>\r\n            <span class=\"time\">{{ duration }}</span>\r\n          </div>\r\n          <!-- 控制面板 -->\r\n          <div class=\"control-panel\">\r\n            <div class=\"icon i-left\">\r\n              <i :class=\"iconMode\" @click=\"changeMode\"></i>\r\n            </div>\r\n            <div class=\"icon i-left\">\r\n              <i class=\"icon-prev\" :class=\"disableCls\" @click=\"prevOrNext()\"></i>\r\n            </div>\r\n            <div class=\"icon i-center\">\r\n              <i @click=\"togglePlaying\"\r\n                 :class=\"playIcon + ' ' + disableCls\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"icon i-right\">\r\n              <i class=\"icon-next\" :class=\"disableCls\" @click=\"prevOrNext(true)\"></i>\r\n            </div>\r\n            <div class=\"icon i-right\">\r\n              <i class=\"icon\" :class=\"collectedStyle(currentSong)\" @click=\"collect(currentSong)\"></i>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <transition name=\"mini\">\r\n      <div @click=\"unfold\" class=\"mini-player\" v-show=\"!fullScreen\">\r\n        <div class=\"icon\">\r\n          <div class=\"img-wrapper\">\r\n            <img :src=\"currentSong.image\" ref=\"miniCD\" :class=\"recordCls\">\r\n          </div>\r\n        </div>\r\n        <div class=\"text\">\r\n          <h2 class=\"name\" v-html=\"currentSong.name\"></h2>\r\n          <p class=\"desc\" v-html=\"currentSong.singer\"></p>\r\n        </div>\r\n        <div class=\"control\">\r\n          <progress-circle :percent=\"percent\" @togglePlaying=\"togglePlaying\">\r\n            <i :class=\"miniPlayIcon\"></i>\r\n          </progress-circle>\r\n        </div>\r\n        <div class=\"control\">\r\n          <i class=\"icon-playlist\" @click.stop=\"showPlaylist\"></i>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <audio ref=\"audio\"\r\n           :src=\"currentSong.url\"\r\n           @canplay=\"ready\"\r\n           @error=\"onSongError\"\r\n           @timeupdate=\"setCurrentTime\"\r\n           @ended=\"automaticNext\"\r\n    ></audio>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations, mapActions } from 'vuex'\r\nimport animations from 'create-keyframe-animation'\r\nimport { Base64 } from 'js-base64'\r\nimport LyricParser from 'lyric-parser'\r\nimport Util from '../../common/util'\r\nimport Singer from '../../common/util/singer'\r\nimport { playMode } from '../../common/config'\r\nimport { getLyric } from '../../api/song'\r\nimport { ERR_OK } from '../../api/config'\r\nimport { modeMixin, collectMixin } from '../../common/util/mixin'\r\n\r\nimport ProgressBar from '../../base/progress-bar/ProgressBar'\r\nimport ProgressCircle from '../../base/progress-circle/ProgressCircle'\r\nimport Scroll from '../../base/scroll/Scroll'\r\n\r\nconst util = new Util()\r\n\r\nconst transform = util.prefixStyle('transform')\r\nconst transition = util.prefixStyle('transition')\r\n\r\nexport default {\r\n  mixins: [modeMixin, collectMixin],\r\n  data() {\r\n    return {\r\n      songReady: false,\r\n      currentTime: 0,\r\n      normalizeTime: '00:00',\r\n      timeStopChange: false,\r\n      currentLyric: null,\r\n      lyricIndex: 0,\r\n      showLyric: false,\r\n      recordLyric: ''\r\n    }\r\n  },\r\n  computed: {\r\n    playIcon() {\r\n      return this.playing ? 'icon-pause' : 'icon-play'\r\n    },\r\n    miniPlayIcon() {\r\n      return this.playing ? 'icon-pause-mini' : 'icon-play-mini'\r\n    },\r\n    recordCls() {\r\n      return this.playing ? 'play' : 'play pause'\r\n    },\r\n    disableCls() {\r\n      return this.songReady ? '' : 'disable'\r\n    },\r\n    duration() {\r\n      return util.normalizeTime(this.currentSong.duration)\r\n    },\r\n    percent() {\r\n      return this.currentTime / this.currentSong.duration\r\n    },\r\n    ...mapState([\r\n      'fullScreen',\r\n      'playing',\r\n      'currentIndex',\r\n      'playList',\r\n      'sequenceList',\r\n      'mode',\r\n      'singer'\r\n    ])\r\n  },\r\n  components: {\r\n    ProgressBar,\r\n    ProgressCircle,\r\n    Scroll\r\n  },\r\n  methods: {\r\n    ready() {\r\n      this.songReady = true\r\n      this.savePlayHistory(this.currentSong)\r\n    },\r\n    showPlaylist() {\r\n      this.setShowPlaylist(true)\r\n    },\r\n    togglePlaying() {\r\n      this.setPlaying(!this.playing)\r\n      if (this.currentLyric) {\r\n        this.currentLyric.togglePlay()\r\n      }\r\n    },\r\n    back() {\r\n      this.setFullScreen(false)\r\n    },\r\n    unfold() {\r\n      this.setFullScreen(true)\r\n    },\r\n    automaticNext() {\r\n      if (this.mode === playMode.loop) {\r\n        this.loop()\r\n        return\r\n      }\r\n      this.prevOrNext(true)\r\n    },\r\n    loop() {\r\n      this.$refs.audio.currentTime = 0\r\n      this.$refs.audio.play()\r\n      this.currentLyric.seek(0)\r\n    },\r\n    prevOrNext(isNext) {\r\n      if (!this.songReady) {\r\n        return\r\n      }\r\n      if (this.playList.length === 1) {\r\n        this.loop()\r\n        return\r\n      }\r\n      let index = this.currentIndex\r\n      // 上一曲\r\n      if (!isNext) {\r\n        index += -1\r\n        if (index === -1) {\r\n          index = this.playList.length - 1\r\n        }\r\n      } else {\r\n      // 下一曲\r\n        index += +1\r\n        if (index === this.playList.length) {\r\n          index = 0\r\n        }\r\n      }\r\n      this.setCurrentIndex(index)\r\n      // this.songReady = false\r\n    },\r\n    onSongError() {\r\n      this.songReady = true\r\n      this.prevOrNext(true)\r\n    },\r\n    setCurrentTime(e) {\r\n      if (!this.timeStopChange) {\r\n        this.currentTime = e.target.currentTime\r\n        this.normalizeTime = util.normalizeTime(this.currentTime)\r\n      }\r\n    },\r\n    changeProgress(percent) {\r\n      const time = this.currentSong.duration * percent\r\n      this.$refs.audio.currentTime = time\r\n      this.currentLyric.seek(time * 1000)\r\n      if (!this.playing) {\r\n        this.setPlaying(true)\r\n      }\r\n    },\r\n    updateTime(percent) {\r\n      if (percent >= 0) {\r\n        this.timeStopChange = true\r\n        const CURRENT_TIME = this.currentSong.duration * percent\r\n        this.currentLyric.seek(CURRENT_TIME * 1000)\r\n        this.normalizeTime = util.normalizeTime(CURRENT_TIME)\r\n      } else {\r\n        this.timeStopChange = false\r\n      }\r\n    },\r\n    enter(el, done) {\r\n      const { x, y, scale } = this._getVariation()\r\n\r\n      const animation = {\r\n        0: {\r\n          transform: `translate(${x}px, ${y}px) scale(${scale})`\r\n        },\r\n        60: {\r\n          transform: 'translate(0, 0) scale(1.1)'\r\n        },\r\n        100: {\r\n          transform: 'translate(0, 0) scale(1)'\r\n        }\r\n      }\r\n      animations.registerAnimation({\r\n        name: 'move',\r\n        animation,\r\n        presets: {\r\n          duration: 400,\r\n          easing: 'linear'\r\n        }\r\n      })\r\n\r\n      animations.runAnimation(this.$refs.normalCD, 'move', done)\r\n    },\r\n    afterEnter() {\r\n      animations.unregisterAnimation('move')\r\n      this.$refs.normalCD.style.animation = ''\r\n    },\r\n    leave(el, done) {\r\n      this.$refs.normalCD.style.transition = 'all .4s'\r\n      const { x, y, scale } = this._getVariation()\r\n      this.$refs.normalCD.style[transform] = `translate(${x}px, ${y}px) scale(${scale})`\r\n      this.$refs.normalCD.addEventListener('transitionend', done)\r\n    },\r\n    afterLeave() {\r\n      this.$refs.normalCD.style.transition = ''\r\n      this.$refs.normalCD.style[transform] = ''\r\n    },\r\n    showLyricStart(e) {\r\n      this.touch.init = 1\r\n      this.touch.startX = e.touches[0].pageX\r\n      this.touch.startY = e.touches[0].pageY\r\n      this.touch.innerWidth = window.innerWidth\r\n    },\r\n    showLyricMove(e) {\r\n      if (!this.touch.init) {\r\n        return ''\r\n      }\r\n      this.touch.init = 2\r\n      this.touch.moveX = e.touches[0].pageX - this.touch.startX\r\n      this.touch.moveY = e.touches[0].pageY - this.touch.startY\r\n      // 滑动的纵向距离大于横向距离时，不做任何处理\r\n      if (Math.abs(this.touch.moveY) > Math.abs(this.touch.moveX)) {\r\n        this.touch.init = 0\r\n        return ''\r\n      }\r\n\r\n      const innerWidth = this.touch.innerWidth\r\n      const left = this.showLyric ? -innerWidth : 0\r\n      // 设置歌词页面偏移量在[0, -innerWidth]\r\n      this.touch.offsetWidth = Math.min(Math.max(-innerWidth, left + this.touch.moveX), 0)\r\n      this.touch.percent = Math.abs(this.touch.offsetWidth / innerWidth)\r\n      this.$refs.lyricScroll.$el.style[transition] = ''\r\n      this.$refs.lyricScroll.$el.style[transform] = `translateX(${this.touch.offsetWidth}px)`\r\n    },\r\n    showLyricEnd() {\r\n      if (this.touch.init !== 2) {\r\n        return\r\n      }\r\n      let offsetWidth = 1\r\n      const innerWidth = this.touch.innerWidth\r\n      const percent = this.touch.percent\r\n      if (!this.showLyric) {\r\n        if (percent > 0.15) {\r\n          this.showLyric = true\r\n          offsetWidth = -innerWidth\r\n        } else {\r\n          offsetWidth = 0\r\n        }\r\n      } else {\r\n        if (percent < 0.85) {\r\n          this.showLyric = false\r\n          offsetWidth = 0\r\n        } else {\r\n          offsetWidth = -innerWidth\r\n        }\r\n      }\r\n      this.$refs.lyricScroll.$el.style[transition] = 'transform 150ms linear'\r\n      this.$refs.lyricScroll.$el.style[transform] = `translateX(${offsetWidth}px)`\r\n      this.$refs.recordBox.style.opacity = 1 - Math.abs(offsetWidth / innerWidth)\r\n      this.$refs.recordBox.style[transition] = 'opacity 100ms linear'\r\n\r\n      this.touch.init = 0\r\n    },\r\n    jumpSingerDetial() {\r\n      const id = this.currentSong.singer_mid\r\n      const singer = this.currentSong.singer\r\n      // 关闭播放器界面\r\n      this.setFullScreen(false)\r\n      if (id === this.singer.id) {\r\n        return\r\n      }\r\n\r\n      const singerUtil = new Singer(singer, id)\r\n      this.$router.push({\r\n        path: `/singer/${id}`\r\n      })\r\n      this.setSinger(singerUtil.addAvatar())\r\n    },\r\n    _getVariation() {\r\n      const miniCD = this.$refs.miniCD\r\n      const normalCD = this.$refs.normalCD\r\n      // miniCD中心与浏览器左(下)边框的距离\r\n      const MINI_LEFT = 40\r\n      const MINI_BOTTOM = 30\r\n      // miniCD中心与浏览器左(下)边框的距离\r\n      const NORMAL_LEFT = window.innerWidth / 2\r\n      // css中将normalCD的宽度设为了浏览器宽度的80%\r\n      const NORMAL_BOTTOM = window.innerHeight - (window.innerWidth * 0.8) / 2 - 85\r\n      // 1. 获取mini播放器相对于播放界面之间的横轴偏移量\r\n      const X = MINI_LEFT - NORMAL_LEFT\r\n      // 2. 获取mini播放器相对于播放界面之间的纵轴偏移量\r\n      const Y = NORMAL_BOTTOM - MINI_BOTTOM\r\n      // 3. 获取mini播放器相对于播放界面的缩放比例\r\n      const SCALE = miniCD.clientHeight / normalCD.clientHeight\r\n\r\n      return {\r\n        x: X,\r\n        y: Y,\r\n        scale: SCALE\r\n      }\r\n    },\r\n    _getLyric() {\r\n      getLyric(this.currentSong.mid)\r\n        .then(res => {\r\n          if (res.code === ERR_OK) {\r\n            if (this.currentLyric) {\r\n              this.lyricIndex = 0\r\n              this.currentLyric.stop()\r\n            }\r\n            this.lyric = Base64.decode(res.lyric)\r\n            this.currentLyric = new LyricParser(this.lyric, this._lyricHandler)\r\n            if (this.songReady) {\r\n              this.currentLyric.play()\r\n            }\r\n          }\r\n        })\r\n        .catch(e => {\r\n          this.currentLyric = null\r\n          this.lyricIndex = 0\r\n          this.recordLyric = ''\r\n        })\r\n    },\r\n    _lyricHandler({ lineNum, txt }) {\r\n      this.lyricIndex = lineNum\r\n      if (lineNum > 5) {\r\n        this.$refs.lyricScroll.scrollToElement(this.$refs.lyricLine[lineNum - 5], 1000)\r\n      } else {\r\n        this.$refs.lyricScroll.scrollTo(0, 0, 1000)\r\n      }\r\n      this.recordLyric = txt\r\n    },\r\n    ...mapMutations([\r\n      'setFullScreen',\r\n      'setPlaying',\r\n      'setCurrentIndex',\r\n      'setMode',\r\n      'setPlayList',\r\n      'setSinger',\r\n      'setShowPlaylist'\r\n    ]),\r\n    ...mapActions([\r\n      'savePlayHistory'\r\n    ])\r\n  },\r\n  created() {\r\n    this.touch = {}\r\n  },\r\n  watch: {\r\n    // 播放的歌曲改变时，播放音乐\r\n    currentSong(now, old) {\r\n      if (now.id !== old.id && this.playList.length) {\r\n        this.songReady = false\r\n        this.setPlaying(true)\r\n        this.$nextTick(() => {\r\n          this.$refs.audio.play()\r\n        })\r\n\r\n        // 获取歌词\r\n        this._getLyric()\r\n      }\r\n    },\r\n    playing(currentPlaying) {\r\n      this.$nextTick(() => {\r\n        const audio = this.$refs.audio\r\n        currentPlaying ? audio.play() : audio.pause()\r\n      })\r\n    },\r\n    fullScreen(now) {\r\n      // 不显示播放器界面时，歌词界面偏移量设为0\r\n      if (!now) {\r\n        this.$refs.lyricScroll.$el.style[transform] = 'translateX(0px)'\r\n        this.$refs.recordBox.style.opacity = 1\r\n        // 表示是否显示歌词的标识符也设为false\r\n        this.showLyric = false\r\n      }\r\n    },\r\n    songReady(now) {\r\n      if (now) {\r\n        if (this.currentLyric) {\r\n          this.currentLyric.play()\r\n          this.currentLyric.seek(this.currentTime * 1000)\r\n        }\r\n      }\r\n    },\r\n    currentLyric(now, old) {\r\n      if (now !== old) {\r\n        this.currentLyric.play()\r\n        this.currentLyric.seek(this.currentTime * 1000)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '../../common/stylus/variable';\r\n@import '../../common/stylus/mixin';\r\n.player {\r\n  color #fff\r\n  .normal-palyer {\r\n    position fixed\r\n    width 100%\r\n    top: 0\r\n    bottom: 0\r\n    background $color-background\r\n    z-index 1000\r\n    .black-mask {\r\n      position fixed\r\n      top 0\r\n      width 100%\r\n      bottom 0\r\n      background rgba(50, 50, 50, .3)\r\n      z-index 100\r\n    }\r\n    .background-wrapper {\r\n      z-index -1\r\n      img {\r\n        position fixed\r\n        width 100%\r\n        height 100%\r\n        filter blur(20px)\r\n      }\r\n    }\r\n    .title-wrapper {\r\n      position relative\r\n      height 60px\r\n      z-index 101\r\n      .title {\r\n        display flex\r\n        height 40px\r\n        .icon-wrapper {\r\n          flex 0 0 40px\r\n          display flex\r\n          justify-content flex-end\r\n          align-items center\r\n          font-size 22px\r\n          i {\r\n            transform rotate(-90deg)\r\n          }\r\n        }\r\n        .text {\r\n          flex 1\r\n          text-align center\r\n          line-height 40px\r\n          display -webkit-box\r\n          -webkit-box-orient vertical\r\n          -webkit-line-clamp 1\r\n          overflow hidden\r\n        }\r\n        &:after {\r\n          content ''\r\n          display inline-block\r\n          flex 0 0 40px\r\n        }\r\n      }\r\n      .singer {\r\n        height 20px\r\n        line-height 20px\r\n        text-align center\r\n        display -webkit-box\r\n        -webkit-box-orient vertical\r\n        -webkit-line-clamp 1\r\n        width 80%\r\n        overflow hidden\r\n        margin 0 auto\r\n      }\r\n    }\r\n    .player-body {\r\n      position absolute\r\n      width 100%\r\n      top 85px\r\n      bottom 170px\r\n      z-index 101\r\n      .record-box {\r\n        position relative\r\n        display flex\r\n        justify-content center\r\n        width 100%\r\n        height 0\r\n        padding-top 80%\r\n        .record-wrapper {\r\n          position absolute\r\n          flex-center()\r\n          top 0\r\n          width 80%\r\n          height 100%\r\n          border-radius 50%\r\n          background rgba(255, 255 , 255, .1)\r\n          .record {\r\n            height 94%\r\n            border-radius 50%\r\n            &.play {\r\n              animation rotate 20s linear infinite\r\n            }\r\n            &.pause {\r\n              animation-play-state paused\r\n            }\r\n          }\r\n        }\r\n        .record-lyric {\r\n          position absolute\r\n          display block\r\n          text-align center\r\n          bottom -67px\r\n          width 80%\r\n          font-size $font-size-medium\r\n          color $color-text-l\r\n          line-height 20px\r\n        }\r\n      }\r\n      .lyric-box {\r\n        position absolute\r\n        left 100%\r\n        top 0\r\n        width 100%\r\n        height 100%\r\n        line-height: 32px\r\n        color: $color-text-l\r\n        font-size: $font-size-medium\r\n        text-align center\r\n        overflow hidden\r\n        .lyric-wrapper {\r\n          width 80%\r\n          margin 0 auto\r\n          overflow hidden\r\n          .lyric {\r\n            &.active {\r\n              color #22d59c\r\n              transition all 0.3s linear\r\n              transform scale(1.1)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .control-wrapper {\r\n      z-index 101\r\n      position absolute\r\n      bottom 50px\r\n      width 100%\r\n      .dot-wrapper {\r\n        display flex\r\n        justify-content center\r\n        .dot {\r\n          display inline-block\r\n          margin 0 4px\r\n          width 8px\r\n          height 8px\r\n          background $color-text-l\r\n          border-radius  4px\r\n          &.active {\r\n            width 20px\r\n            background $color-text-ll\r\n          }\r\n        }\r\n      }\r\n      .progress-wrapper {\r\n        height 50px\r\n        box-sizing border-box\r\n        padding 10px 0\r\n        width 80%\r\n        margin 0 auto\r\n        display flex\r\n        align-items center\r\n        .current-time, .time {\r\n          flex 0 0 30px\r\n          font-size $font-size-small\r\n        }\r\n        .time {\r\n          text-align right\r\n        }\r\n        .progress-bar {\r\n          flex 1\r\n        }\r\n      }\r\n      .control-panel {\r\n        color #22d59c\r\n        height 40px\r\n        display flex\r\n        .icon {\r\n          flex 1\r\n          &.i-left, &.i-right {\r\n            display flex\r\n            font-size 30px\r\n            align-items center\r\n          }\r\n          &.i-left {\r\n            justify-content flex-end\r\n          }\r\n          &.i-right {\r\n            position relative\r\n            i {\r\n              position absolute\r\n              left 0\r\n              &.icon-favorite {\r\n                color red\r\n              }\r\n            }\r\n          }\r\n          &.i-center {\r\n            flex 1.6\r\n            font-size 40px\r\n            flex-center()\r\n          }\r\n          .disable {\r\n            color #22d59c45\r\n          }\r\n        }\r\n      }\r\n    }\r\n    &.normal-enter-active, &.normal-leave-active{\r\n      transition: all 0.4s\r\n      .title-wrapper, .control-wrapper{\r\n        transition: all 0.4s cubic-bezier(0.86, 0.18, 0.82, 1.32)\r\n      }\r\n    }\r\n    &.normal-enter, &.normal-leave-to{\r\n      opacity: 0\r\n      .title-wrapper{\r\n        transform: translate3d(0, -100px, 0)\r\n      }\r\n      .control-wrapper{\r\n        transform: translate3d(0, 100px, 0)\r\n      }\r\n    }\r\n  }\r\n  .mini-player {\r\n    position fixed\r\n    display flex\r\n    align-items center\r\n    width 100%\r\n    height 60px\r\n    background rgb(243,243,243)\r\n    bottom 0\r\n    z-index 1000\r\n    border-radius 30px\r\n    box-shadow -2px 1px 10px #bbb\r\n    .img-wrapper {\r\n      float left\r\n      padding 0 10px 0 20px\r\n      img {\r\n        width 40px\r\n        height 40px\r\n        border-radius 50%\r\n        &.play {\r\n          animation rotate 10s linear infinite\r\n        }\r\n        &.pause {\r\n          animation-play-state paused\r\n        }\r\n      }\r\n    }\r\n    .text {\r\n      width 205px\r\n      .name {\r\n        height 20px\r\n        font-size 14px\r\n        line-height 20px\r\n        display -webkit-box\r\n        -webkit-box-orient vertical\r\n        -webkit-line-clamp 1\r\n        overflow hidden\r\n        color #2c3e50\r\n      }\r\n      .desc {\r\n        margin-top 2px\r\n        height 20px\r\n        line-height 20px\r\n        font-size 12px\r\n        color $color-text-d\r\n        display -webkit-box\r\n        -webkit-box-orient vertical\r\n        -webkit-line-clamp 1\r\n        overflow hidden\r\n        color #777\r\n      }\r\n    }\r\n    .control {\r\n      position relative\r\n      width 50px\r\n      height 32px\r\n      font-size 32px\r\n      color #2c3e50\r\n      box-sizing border-box\r\n      padding 0 10px\r\n      &:nth-child(3) i {\r\n        position absolute\r\n        top 0\r\n      }\r\n      &:last-child {\r\n        font-size 28px\r\n      }\r\n    }\r\n    &.mini-enter-active, &.mini-leave-active {\r\n      transition all 0.4s\r\n    }\r\n    &.mini-enter, &.mini-leave-to {\r\n      opacity 0\r\n    }\r\n  }\r\n}\r\n\r\n@keyframes rotate {\r\n  from {\r\n    transform rotate(0)\r\n  }\r\n  to {\r\n    transform rotate(360deg)\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Player.vue?vue&type=template&id=0cde24ed&scoped=true&\"\nimport script from \"./Player.vue?vue&type=script&lang=js&\"\nexport * from \"./Player.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Player.vue?vue&type=style&index=0&id=0cde24ed&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0cde24ed\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPlaylist),expression:\"showPlaylist\"}],staticClass:\"playlist\",on:{\"click\":_vm.close}},[_c('div',{staticClass:\"playlist-wrapper\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"top-wrapper\"},[_c('span',{staticClass:\"icon-left\"},[_c('i',{class:_vm.iconMode,on:{\"click\":_vm.changeMode}})]),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.playStatus))]),_c('span',{staticClass:\"icon-right\"},[_c('i',{staticClass:\"icon-clear\",on:{\"click\":_vm.showConfirm}})])]),_c('scroll',{ref:\"scroll\",staticClass:\"list-wrapper\",attrs:{\"tag\":_vm.sequenceList}},[_c('transition-group',{ref:\"songs\",staticClass:\"list\",attrs:{\"name\":\"list\",\"tag\":\"ul\"}},_vm._l((_vm.sequenceList),function(item,index){return _c('li',{key:item.id,staticClass:\"song\"},[_c('span',{staticClass:\"icon icon-left\"},[_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentPlay(index)),expression:\"currentPlay(index)\"}],staticClass:\"icon-play\"})]),_c('span',{staticClass:\"song-name\",class:_vm.isActive(index),domProps:{\"innerHTML\":_vm._s(item.name)},on:{\"click\":function($event){return _vm.selectSong(item)}}}),_c('span',{staticClass:\"icon icon-right\",on:{\"click\":function($event){return _vm.collect(item)}}},[_c('i',{class:_vm.collectedStyle(item)}),_c('i',{staticClass:\"icon-delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.delItem(index)}}})])])}),0)],1),_c('div',{staticClass:\"add-btn\",on:{\"click\":_vm.showAddSong}},[_c('i',{staticClass:\"icon-add\"}),_c('span',{staticClass:\"text\"},[_vm._v(\"添加歌曲到队列\")])]),_c('div',{staticClass:\"close\"},[_c('span',{staticClass:\"text\",on:{\"click\":_vm.close}},[_vm._v(\"关闭\")])])],1),_c('confirm',{ref:\"confirm\",attrs:{\"title\":\"是否清空播放列表？\",\"confirmBtn\":\"清空\",\"cancelBtn\":\"再想想\"},on:{\"confirm\":_vm.cleanAll}}),_c('add-song',{ref:\"addSong\"}),_c('top-tip',{ref:\"topTip\",attrs:{\"info\":\"已移出播放列表\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showFlag),expression:\"showFlag\"}],staticClass:\"add-song\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"top-wrapper\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"添加歌曲到列表\")]),_c('span',{staticClass:\"back\"},[_c('i',{staticClass:\"icon-close\",on:{\"click\":_vm.fade}})])]),_c('div',{staticClass:\"input-wrapper\"},[_c('search-input',{ref:\"input\",attrs:{\"placeholder\":\"搜索歌曲\"},on:{\"getQuery\":_vm.getQuery}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query),expression:\"!query\"}],staticClass:\"toggle-wrapper\"},[_c('toggle-button',{attrs:{\"btnTitle\":['最近播放', '搜索历史'],\"currentSelect\":_vm.currentSelect},on:{\"selectBtn\":_vm.toggleView}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],staticClass:\"result-wrapper\"},[_c('search-result',{attrs:{\"showSinger\":false,\"query\":_vm.query,\"playCurrentSong\":_vm.playCurrentSong},on:{\"selectResult\":_vm.selectResult}})],1),_c('scroll',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query && _vm.currentSelect === 1),expression:\"!query && currentSelect === 1\"}],ref:\"scrollSearch\",staticClass:\"history-wrapper\",attrs:{\"tag\":_vm.searchHistory}},[_c('history-list',{attrs:{\"list\":_vm.searchHistory},on:{\"selectHistory\":_vm.addQuery,\"removeOne\":_vm.removeHistory}})],1),_c('scroll',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.query && _vm.currentSelect === 0),expression:\"!query && currentSelect === 0\"}],ref:\"scrollPlay\",staticClass:\"play-history-wrapper\",attrs:{\"tag\":_vm.playHistory}},[_c('song-list',{staticClass:\"song-list\",attrs:{\"songs\":_vm.playHistory},on:{\"selectSong\":_vm.selectSong}})],1),_c('top-tip',{ref:\"topTip\",attrs:{\"info\":\"歌曲添加成功\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<transition name=\"slide\">\r\n  <div class=\"add-song\" @click.stop v-show=\"showFlag\">\r\n    <div class=\"top-wrapper\">\r\n      <span class=\"title\">添加歌曲到列表</span>\r\n      <span class=\"back\">\r\n        <i class=\"icon-close\" @click=\"fade\"></i>\r\n      </span>\r\n    </div>\r\n    <div class=\"input-wrapper\">\r\n      <search-input ref=\"input\" placeholder=\"搜索歌曲\" @getQuery=\"getQuery\" />\r\n    </div>\r\n    <div class=\"toggle-wrapper\"  v-show=\"!query\">\r\n      <toggle-button :btnTitle=\"['最近播放', '搜索历史']\"\r\n                     @selectBtn=\"toggleView\"\r\n                     :currentSelect=\"currentSelect\"\r\n      />\r\n    </div>\r\n    <!-- 搜索结果 -->\r\n    <div class=\"result-wrapper\" v-show=\"query\">\r\n      <search-result :showSinger=\"false\"\r\n                     :query=\"query\"\r\n                     :playCurrentSong=\"playCurrentSong\"\r\n                     @selectResult=\"selectResult\"\r\n      />\r\n    </div>\r\n    <!-- 搜索历史 -->\r\n    <scroll  ref=\"scrollSearch\"\r\n             class=\"history-wrapper\"\r\n             :tag=\"searchHistory\"\r\n             v-show=\"!query && currentSelect === 1\"\r\n    >\r\n      <history-list :list=\"searchHistory\"\r\n                    @selectHistory=\"addQuery\"\r\n                    @removeOne=\"removeHistory\"\r\n      />\r\n    </scroll>\r\n    <!-- 播放历史 -->\r\n    <scroll ref=\"scrollPlay\"\r\n            class=\"play-history-wrapper\"\r\n            :tag=\"playHistory\"\r\n            v-show=\"!query && currentSelect === 0\"\r\n    >\r\n      <song-list class=\"song-list\" @selectSong=\"selectSong\"  :songs=\"playHistory\" />\r\n    </scroll>\r\n\r\n    <top-tip info=\"歌曲添加成功\" ref=\"topTip\" />\r\n  </div>\r\n</transition>\r\n</template>\r\n\r\n<script>\r\nimport { searchMixin } from '../../common/util/mixin'\r\n\r\nimport SearchResult from '../search-result/SearchResult'\r\nimport SearchInput from '../../base/search-input/SearchInput'\r\nimport HistoryList from '../../base/history-list/HistoryList'\r\nimport ToggleButton from '../../base/toggle-button/ToggleButton'\r\nimport SongList from '../../base/song-list/SongList'\r\nimport Scroll from '../../base/scroll/Scroll'\r\nimport TopTip from '../../base/top-tip/TopTip'\r\n\r\nimport { mapState, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  mixins: [searchMixin],\r\n  data() {\r\n    return {\r\n      showFlag: false,\r\n      currentSelect: 0,\r\n      playCurrentSong: true\r\n    }\r\n  },\r\n  components: {\r\n    SearchInput,\r\n    SearchResult,\r\n    HistoryList,\r\n    ToggleButton,\r\n    SongList,\r\n    Scroll,\r\n    TopTip\r\n  },\r\n  computed: {\r\n    ...mapState(['playHistory'])\r\n  },\r\n  methods: {\r\n    selectResult(item) {\r\n      this.$refs.topTip.show()\r\n    },\r\n    selectSong(song, index) {\r\n      this.$refs.topTip.show()\r\n      // 是否播放当前歌曲\r\n      const playCurrentSong = this.playCurrentSong\r\n      this.insertSong({ song, playCurrentSong })\r\n    },\r\n    toggleView(index) {\r\n      this.currentSelect = index\r\n    },\r\n    show() {\r\n      this.showFlag = true\r\n    },\r\n    fade() {\r\n      this.showFlag = false\r\n    },\r\n    ...mapActions(['insertSong'])\r\n  },\r\n  watch: {\r\n    currentSelect() {\r\n      this.$refs.scrollSearch.refresh()\r\n      this.$refs.scrollPlay.refresh()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '../../common/stylus/variable';\r\n.add-song {\r\n  color #2c3e50\r\n  z-index 20000\r\n  position fixed\r\n  top 0\r\n  bottom 0\r\n  width 100%\r\n  background rgb(247,247,247)\r\n  &.slide-enter-active, &.slide-leave-active {\r\n    transition all .3s linear\r\n  }\r\n  &.slide-enter, &.slide-leave-to {\r\n    transform translateX(100%)\r\n  }\r\n  .top-wrapper {\r\n    height 44px\r\n    .title {\r\n      display inline-block\r\n      width 100%\r\n      text-align center\r\n      line-height 44px\r\n      font-size 18px\r\n    }\r\n    .back {\r\n      position absolute\r\n      display inline-block\r\n      right 0\r\n      width 44px\r\n      height 44px\r\n      text-align center\r\n      line-height 44px\r\n      padding-right 7px\r\n      color #2c3e50\r\n      font-size 20px\r\n    }\r\n  }\r\n  .toggle-wrapper {\r\n    display flex\r\n    justify-content center\r\n  }\r\n  .result-wrapper {\r\n    position fixed\r\n    top 125px\r\n    width 100%\r\n    bottom -60px\r\n  }\r\n  .history-wrapper {\r\n    position fixed\r\n    top 175px\r\n    bottom 0\r\n    width 100%\r\n    overflow hidden\r\n    padding 0 30px\r\n    box-sizing border-box\r\n  }\r\n  .play-history-wrapper {\r\n    position fixed\r\n    top 175px\r\n    bottom 0\r\n    width 100%\r\n    overflow hidden\r\n    .song-list {\r\n      padding-top 0 !important\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSong.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSong.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddSong.vue?vue&type=template&id=59f61a0f&scoped=true&\"\nimport script from \"./AddSong.vue?vue&type=script&lang=js&\"\nexport * from \"./AddSong.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddSong.vue?vue&type=style&index=0&id=59f61a0f&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59f61a0f\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <transition name=\"slide\">\r\n    <div class=\"playlist\" v-show=\"showPlaylist\" @click=\"close\">\r\n      <div class=\"playlist-wrapper\" @click.stop>\r\n        <div class=\"top-wrapper\">\r\n          <span class=\"icon-left\">\r\n            <i :class=\"iconMode\" @click=\"changeMode\"></i>\r\n          </span>\r\n          <span class=\"text\">{{ playStatus }}</span>\r\n          <span class=\"icon-right\">\r\n            <i class=\"icon-clear\" @click=\"showConfirm\"></i>\r\n          </span>\r\n        </div>\r\n        <scroll :tag=\"sequenceList\" ref=\"scroll\" class=\"list-wrapper\">\r\n          <transition-group name=\"list\" tag=\"ul\" class=\"list\" ref=\"songs\">\r\n            <li class=\"song\"\r\n                v-for=\"(item, index) in sequenceList\"\r\n                :key=\"item.id\"\r\n            >\r\n              <span class=\"icon icon-left\">\r\n                <i class=\"icon-play\" v-show=\"currentPlay(index)\"></i>\r\n              </span>\r\n              <span class=\"song-name\"\r\n                    :class=\"isActive(index)\"\r\n                    @click=\"selectSong(item)\"\r\n                    v-html=\"item.name\"\r\n              ></span>\r\n              <span class=\"icon icon-right\" @click=\"collect(item)\">\r\n                <i :class=\"collectedStyle(item)\"></i>\r\n                <i class=\"icon-delete\" @click.stop=\"delItem(index)\"></i>\r\n              </span>\r\n            </li>\r\n          </transition-group>\r\n        </scroll>\r\n        <div class=\"add-btn\" @click=\"showAddSong\">\r\n          <i class=\"icon-add\"></i>\r\n          <span class=\"text\">添加歌曲到队列</span>\r\n        </div>\r\n        <div class=\"close\">\r\n          <span class=\"text\"  @click=\"close\">关闭</span>\r\n        </div>\r\n      </div>\r\n      <confirm title=\"是否清空播放列表？\"\r\n               confirmBtn=\"清空\"\r\n               cancelBtn=\"再想想\"\r\n               ref=\"confirm\"\r\n               @confirm=\"cleanAll\"\r\n      />\r\n      <add-song ref=\"addSong\" />\r\n      <top-tip info=\"已移出播放列表\" ref=\"topTip\" />\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations, mapGetters, mapActions } from 'vuex'\r\nimport { playMode } from '../../common/config'\r\nimport { modeMixin, collectMixin } from '../../common/util/mixin'\r\n\r\nimport Scroll from '../../base/scroll/Scroll'\r\nimport Confirm from '../../base/confirm/Confirm'\r\nimport AddSong from '../../components/add-song/AddSong'\r\nimport TopTip from '../../base/top-tip/TopTip'\r\n\r\nexport default {\r\n  mixins: [modeMixin, collectMixin],\r\n  computed: {\r\n    playStatus() {\r\n      switch (this.mode) {\r\n        case playMode.random:\r\n          return '随机播放'\r\n        case playMode.sequence:\r\n          return '顺序播放'\r\n        case playMode.loop:\r\n          return '单曲循环'\r\n      }\r\n      return ''\r\n    },\r\n    ...mapState([\r\n      'sequenceList',\r\n      'showPlaylist',\r\n      'mode',\r\n      'sequenceList',\r\n      'playList'\r\n    ]),\r\n    ...mapGetters([\r\n      'currentSong'\r\n    ])\r\n  },\r\n  components: {\r\n    Scroll,\r\n    Confirm,\r\n    AddSong,\r\n    TopTip\r\n  },\r\n  methods: {\r\n    delItem(index) {\r\n      this.$refs.topTip.show()\r\n      this.delPlaylist(index)\r\n    },\r\n    showAddSong() {\r\n      this.$refs.addSong.show()\r\n    },\r\n    cleanAll() {\r\n      this.clearPlaylists()\r\n    },\r\n    showConfirm() {\r\n      this.$refs.confirm.show()\r\n    },\r\n    selectSong(song) {\r\n      const currentIndex = this.playList.findIndex(item => {\r\n        return item.mid === song.mid\r\n      })\r\n      this.setCurrentIndex(currentIndex)\r\n      this._scrollCurrent(300)\r\n    },\r\n    // 当前播放的歌曲\r\n    currentPlay(index) {\r\n      const currentIndex = this._currentPlay()\r\n      if (currentIndex === index) {\r\n        return true\r\n      }\r\n      return false\r\n    },\r\n    isActive(index) {\r\n      const currentIndex = this._currentPlay()\r\n      if (currentIndex === index) {\r\n        return 'active'\r\n      }\r\n      return ''\r\n    },\r\n    close() {\r\n      this.setShowPlaylist(false)\r\n    },\r\n    _currentPlay() {\r\n      const sequenceListIndex = this.sequenceList.findIndex(item => {\r\n        return this.currentSong.mid === item.mid\r\n      })\r\n      return sequenceListIndex\r\n    },\r\n    _scrollCurrent(interval) {\r\n      const sequenceListIndex = this._currentPlay()\r\n      const el = this.$refs.songs.$el.children[sequenceListIndex]\r\n      this.$refs.scroll.scrollToElement(el, interval)\r\n    },\r\n    ...mapMutations([\r\n      'setShowPlaylist',\r\n      'setMode',\r\n      'setCurrentIndex',\r\n      'setPlayList'\r\n    ]),\r\n    ...mapActions([\r\n      'delPlaylist',\r\n      'clearPlaylists'\r\n    ])\r\n  },\r\n  watch: {\r\n    showPlaylist(now) {\r\n      if (now === true) {\r\n        this.$nextTick(() => {\r\n          this.$refs.scroll.refresh()\r\n          this._scrollCurrent()\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '../../common/stylus/variable';\r\n@import '../../common/stylus/mixin';\r\n.playlist {\r\n  z-index 10000\r\n  position fixed\r\n  bottom 0\r\n  top 0\r\n  width 100%\r\n  background $color-background-e\r\n  .playlist-wrapper {\r\n    position absolute\r\n    bottom 0\r\n    background #fafafa\r\n    width 100%\r\n    border-radius 14px 14px 0 0\r\n    box-shadow 0 -2px 5px #999\r\n    .top-wrapper {\r\n      height 30px\r\n      padding 20px 30px 10px 20px\r\n      display flex\r\n      .text {\r\n        flex 1\r\n        padding-left 10px\r\n        font-size 14px\r\n        line-height 30px\r\n        color #2c3e50\r\n      }\r\n      .icon-left {\r\n        color #2c3e50\r\n        font-size 30px\r\n        text-shadow 2px 2px 4px #aaa\r\n      }\r\n      .icon-right {\r\n        color #2c3e50\r\n        font-size 12px\r\n        line-height 30px\r\n        display inline-block\r\n        width 32px\r\n        text-align center\r\n        text-shadow 2px 2px 4px #aaa\r\n      }\r\n    }\r\n    .list-wrapper {\r\n      max-height 240px\r\n      overflow hidden\r\n      width 100%\r\n      .list {\r\n        .song {\r\n          display flex\r\n          margin 0 30px 0 20px\r\n          height 40px\r\n          &.list-enter-active, &.list-leave-active{\r\n            transition all .3s\r\n          }\r\n          &.list-enter, &.list-leave-to{\r\n            height 0\r\n            opacity 0\r\n          }\r\n          span {\r\n            text-align center\r\n            line-height 40px\r\n            &.song-name {\r\n              flex 1\r\n              text-align left\r\n              padding-left 10px\r\n              color #2c3e50\r\n              font-size 15px\r\n              display -webkit-box\r\n              -webkit-box-orient vertical\r\n              -webkit-line-clamp 1\r\n              overflow hidden\r\n              &.active {\r\n                color #22d59c\r\n              }\r\n            }\r\n            &.icon {\r\n              color #2c3e50\r\n            }\r\n            &.icon-left {\r\n              display inline-block\r\n              width 18px\r\n              color #22d59c\r\n              font-size 18px\r\n            }\r\n            &.icon-right {\r\n              width 64px\r\n              display flex\r\n              justify-content space-around\r\n              align-items center\r\n              .icon-delete {\r\n                font-size 12px\r\n              }\r\n              .icon-favorite {\r\n                color red\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .add-btn {\r\n      width 140px\r\n      height 30px\r\n      border 1px solid #2c3e50\r\n      border-radius 15px\r\n      line-height 30px\r\n      text-align center\r\n      font-size 12px\r\n      margin 30px auto\r\n      color #2c3e50\r\n      box-sizing border-box\r\n      .text {\r\n        margin-left 10px\r\n      }\r\n    }\r\n    .close {\r\n      height 50px\r\n      text-align center\r\n      font-size 16px\r\n      .text {\r\n        background #fff\r\n        display inline-block\r\n        width 75%\r\n        height 30px\r\n        border-radius 15px\r\n        box-shadow 1px 1px 10px #eee\r\n        // border 1px solid #eee\r\n        line-height 30px\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.slide-enter-active, .slide-leave-active {\r\n  transition opacity .3s linear\r\n  .playlist-wrapper {\r\n    transition all .3s linear\r\n  }\r\n}\r\n.slide-enter, .slide-leave-to {\r\n  opacity 0\r\n  .playlist-wrapper {\r\n    transform translate(0, 100%)\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Playlist.vue?vue&type=template&id=1f625961&scoped=true&\"\nimport script from \"./Playlist.vue?vue&type=script&lang=js&\"\nexport * from \"./Playlist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Playlist.vue?vue&type=style&index=0&id=1f625961&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f625961\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"app\">\r\n    <m-header />\r\n    <tab />\r\n    <transition name=\"router-fade\">\r\n      <keep-alive>\r\n        <router-view />\r\n      </keep-alive>\r\n    </transition>\r\n    <player></player>\r\n    <playlist />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MHeader from './components/m-header/MHeader'\r\nimport Tab from './components/tab/Tab'\r\nimport Player from './components/player/Player'\r\nimport Playlist from './components/playlist/Playlist'\r\n\r\nexport default {\r\n  components: {\r\n    MHeader,\r\n    Tab,\r\n    Player,\r\n    Playlist\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\r\n.router-fade-enter-active, .router-fade-leave-active {\r\n  transition all .2s ease\r\n}\r\n.router-fade-enter, .router-fade-leave-to {\r\n  opacity 0\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2cecf180&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=2cecf180&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2cecf180\",\n  null\n  \n)\n\nexport default component.exports","export default class Storage {\r\n  /**\r\n   * 用于设置或者获取本地localStorage\r\n   * @param {String} key\r\n   * @param {*} value\r\n   */\r\n  val(key, value) {\r\n    if (value) {\r\n      const str = JSON.stringify(value)\r\n      localStorage.setItem(key, str)\r\n    } else {\r\n      const ret = JSON.parse(localStorage.getItem(key))\r\n      return ret\r\n    }\r\n  }\r\n\r\n  del(key) {\r\n    localStorage.removeItem(key)\r\n  }\r\n\r\n  /**\r\n   * 当存储在本地的数据为类数组的字符串时，为这个类数组添加元素\r\n   * @param {*} options\r\n   * @param {*} options.key\r\n   * @param {*} options.val\r\n   * @param {*} options.maxLen 类数组的最大长度\r\n   * @param {*} options.target 需要删除的对象的某个属性\r\n   */\r\n  insert(options) {\r\n    let data = []\r\n    if (!this.val(options.key)) {\r\n      data.push(options.val)\r\n      this.val(options.key, data)\r\n      return data\r\n    }\r\n    data = this.val(options.key)\r\n    const target = options.target\r\n    const type = Object.prototype.toString.call(options.val)\r\n    const index = data.findIndex(item => {\r\n      if (target) {\r\n        if (type !== '[object Object]' && type !== '[object Array]') {\r\n          throw new Error('The option \"target\" is redundant')\r\n        }\r\n        return item[target] === options.val[target]\r\n      } else {\r\n        return item === options.val\r\n      }\r\n    })\r\n\r\n    if (index === 0) {\r\n      return data\r\n    }\r\n    if (index > 0) {\r\n      data.splice(index, 1)\r\n    }\r\n    data.unshift(options.val)\r\n\r\n    if (options.maxLen && options.maxLen < data.length) {\r\n      data.pop()\r\n    }\r\n\r\n    this.val(options.key, data)\r\n    return data\r\n  }\r\n\r\n  remove(key, index) {\r\n    let data = this.val(key)\r\n    if (typeof index === 'number' && index >= 0) {\r\n      data.splice(index, 1)\r\n      this.val(key, data)\r\n    } else {\r\n      this.del(key)\r\n      data = []\r\n    }\r\n    return data\r\n  }\r\n}\r\n","import { playMode, storageKey } from '../common/config'\r\nimport Storage from '../common/util/cache'\r\n\r\nconst STORAGE_SEARCH = storageKey.search\r\nconst STORAGE_PLAY = storageKey.play\r\nconst STORAGE_COLLECT = storageKey.collect\r\n\r\nconst storage = new Storage()\r\n\r\nexport default {\r\n  singer: {},\r\n  playing: false, // 是否播放\r\n  fullScreen: false, // 控制播放页面是否全屏\r\n  playList: [], // 播放列表\r\n  sequenceList: [], // 默认的播放列表(顺序播放)\r\n  mode: playMode.sequence, // 控制播放模式\r\n  currentIndex: -1, // 当前播放的歌\r\n  disk: {},\r\n  rank: {},\r\n  searchHistory: storage.val(STORAGE_SEARCH),\r\n  showPlaylist: false, // 是否展示播放列表\r\n  playHistory: storage.val(STORAGE_PLAY),\r\n  collectList: storage.val(STORAGE_COLLECT)\r\n}\r\n","export default {\r\n  currentSong: state => state.playList[state.currentIndex] || {}\r\n}\r\n","export default {\r\n  setSinger(state, singer) {\r\n    state.singer = singer\r\n  },\r\n  setDisk(state, disk) {\r\n    state.disk = disk\r\n  },\r\n  setRank(state, rank) {\r\n    state.rank = rank\r\n  },\r\n  setPlaying(state, flag) {\r\n    state.playing = flag\r\n  },\r\n  setFullScreen(state, flag) {\r\n    state.fullScreen = flag\r\n  },\r\n  setPlayList(state, flag) {\r\n    state.playList = flag\r\n  },\r\n  setSequenceList(state, flag) {\r\n    state.sequenceList = flag\r\n  },\r\n  setMode(state, flag) {\r\n    state.mode = flag\r\n  },\r\n  setCurrentIndex(state, flag) {\r\n    state.currentIndex = flag\r\n  },\r\n  setSearchHistory(state, flag) {\r\n    state.searchHistory = flag\r\n  },\r\n  setShowPlaylist(state, flag) {\r\n    state.showPlaylist = flag\r\n  },\r\n  setPlayHistory(state, flag) {\r\n    state.playHistory = flag\r\n  },\r\n  setCollectList(state, flag) {\r\n    state.collectList = flag\r\n  }\r\n}\r\n","import { playMode, storageKey } from '../common/config'\r\nimport Util from '../common/util'\r\nimport Storage from '../common/util/cache'\r\n\r\nconst storage = new Storage()\r\nconst util = new Util()\r\n\r\nconst STORAGE_SEARCH = storageKey.search\r\nconst SEARCH_MAX_LENGTH = 15 // 搜索记录的最大长度\r\n\r\nconst STORAGE_PLAY = storageKey.play\r\nconst PLAY_MAX_LENGTH = 200\r\n\r\nconst STORAGE_COLLECT = storageKey.collect\r\nconst COLLECT_MAX_LENGTH = 2000\r\n\r\nfunction findIndex(list, item) {\r\n  return list.findIndex(val => {\r\n    return val.id === item.id\r\n  })\r\n}\r\n\r\nexport default {\r\n  // 打开界面，并播放歌曲\r\n  selectPlay({ commit, state }, { list, index }) {\r\n    if (state.mode === playMode.random) {\r\n      // 修复随机播放时在歌曲列表选择歌曲会更改为顺序播放的问题\r\n      let randomList = state.playList\r\n      // 随机播放时清空列表再点击歌曲时，randomList 为空数组\r\n      if (!randomList.length) {\r\n        randomList = util.randomSort(list)\r\n      }\r\n      commit('setPlayList', randomList)\r\n      // 修复随机播放时在歌曲列表界面点击歌曲不能播放对应歌曲的问题\r\n      commit('setCurrentIndex', findIndex(randomList, list[index]))\r\n    } else {\r\n      commit('setPlayList', list)\r\n      commit('setCurrentIndex', index)\r\n    }\r\n    commit('setSequenceList', list)\r\n\r\n    commit('setFullScreen', true)\r\n    commit('setPlaying', true)\r\n  },\r\n\r\n  // 随机播放全部歌曲\r\n  selectPlayAll({ commit, state }, { list }) {\r\n    commit('setMode', playMode.random)\r\n\r\n    const randomList = util.randomSort(list)\r\n    commit('setPlayList', randomList)\r\n    commit('setSequenceList', list)\r\n    commit('setCurrentIndex', 0)\r\n    commit('setFullScreen', true)\r\n    commit('setPlaying', true)\r\n  },\r\n\r\n  // 插入歌曲\r\n  insertSong({ commit, state }, { song, playCurrentSong }) {\r\n    // 深拷贝，防止修改原数组\r\n    const [...playList] = state.playList\r\n    const [...sequenceList] = state.sequenceList\r\n    let currentIndex = state.currentIndex\r\n    let currentSongIndex = playCurrentSong ? currentIndex : undefined\r\n    const currentSong = playList[currentIndex] // undefined\r\n\r\n    // 获取播放列表中与插入歌曲相同的歌曲索引\r\n    const index = findIndex(playList, song) // -1\r\n\r\n    if (playList.length || currentIndex === -1) {\r\n      currentIndex++\r\n    }\r\n    playList.splice(currentIndex, 0, song)\r\n    // 删除播放列表中与插入歌曲相同的歌曲\r\n    if (index > -1) {\r\n      if (currentSongIndex === undefined) {\r\n        if (index < currentIndex) {\r\n          playList.splice(index, 1)\r\n          currentIndex--\r\n        } else if (index >= currentIndex) {\r\n          playList.splice(index + 1, 1)\r\n        }\r\n      } else {\r\n        if (index < currentSongIndex) {\r\n          playList.splice(index, 1)\r\n          currentSongIndex--\r\n        } else if (index >= currentSongIndex) {\r\n          playList.splice(index + 1, 1)\r\n        }\r\n      }\r\n    }\r\n    // 将歌曲插入到sequenceList\r\n    let currentSIndex = findIndex(sequenceList, currentSong)\r\n    const sIndex = findIndex(sequenceList, song)\r\n    if (sequenceList.length || currentIndex === -1) {\r\n      currentSIndex++\r\n    }\r\n    sequenceList.splice(currentSIndex, 0, song)\r\n\r\n    if (sIndex > -1) {\r\n      if (sIndex < currentSIndex) {\r\n        sequenceList.splice(sIndex, 1)\r\n      } else {\r\n        sequenceList.splice(sIndex + 1, 1)\r\n      }\r\n    }\r\n\r\n    if (currentSongIndex !== undefined) {\r\n      currentIndex = currentSongIndex\r\n    } else {\r\n      commit('setPlaying', true)\r\n      commit('setFullScreen', true)\r\n    }\r\n    commit('setPlayList', playList)\r\n    commit('setSequenceList', sequenceList)\r\n    commit('setCurrentIndex', currentIndex)\r\n  },\r\n\r\n  // 存储搜索历史到本地\r\n  saveSearchHistory({ commit, state }, val) {\r\n    commit('setSearchHistory', storage.insert({\r\n      key: STORAGE_SEARCH,\r\n      val,\r\n      maxLen: SEARCH_MAX_LENGTH\r\n    }))\r\n  },\r\n\r\n  // 删除历史记录\r\n  removeHistory({ commit, state }, index) {\r\n    const history = storage.remove(STORAGE_SEARCH, index)\r\n    commit('setSearchHistory', history)\r\n  },\r\n\r\n  // 删除播放列表中的歌曲\r\n  delPlaylist({ commit, state }, index) {\r\n    // 深拷贝，防止修改原数组\r\n    const [...sequenceList] = state.sequenceList\r\n    const [...playlist] = state.playList\r\n    let currentIndex = state.currentIndex\r\n    const tar = sequenceList[index]\r\n    const pIndex = playlist.findIndex(item => {\r\n      return tar.mid === item.mid\r\n    })\r\n\r\n    sequenceList.splice(index, 1)\r\n    playlist.splice(pIndex, 1)\r\n\r\n    if (pIndex < currentIndex) {\r\n      currentIndex--\r\n    }\r\n\r\n    commit('setPlayList', playlist)\r\n    commit('setSequenceList', sequenceList)\r\n    commit('setCurrentIndex', currentIndex)\r\n\r\n    if (!playlist.length) {\r\n      commit('setPlaying', false)\r\n      commit('setShowPlaylist', false)\r\n    }\r\n  },\r\n\r\n  // 清空播放列表\r\n  clearPlaylists({ commit, state }) {\r\n    commit('setPlaying', false)\r\n    commit('setPlayList', [])\r\n    commit('setSequenceList', [])\r\n    commit('setCurrentIndex', -1)\r\n    commit('setShowPlaylist', false)\r\n  },\r\n\r\n  // 存储播放历史到本地数据\r\n  savePlayHistory({ commit, state }, song) {\r\n    // 由于song的元素是对象，所以需要传一个target\r\n    commit('setPlayHistory', storage.insert({\r\n      key: STORAGE_PLAY,\r\n      val: song,\r\n      maxLen: PLAY_MAX_LENGTH,\r\n      target: 'id'\r\n    }))\r\n  },\r\n\r\n  collectSong({ commit, state }, song) {\r\n    const collectList = storage.insert({\r\n      key: STORAGE_COLLECT,\r\n      val: song,\r\n      maxLen: COLLECT_MAX_LENGTH,\r\n      target: 'id'\r\n    })\r\n    commit('setCollectList', collectList)\r\n  },\r\n\r\n  removeCollect({ commit, state }, index) {\r\n    commit('setCollectList', storage.remove(STORAGE_COLLECT, index))\r\n  }\r\n}\r\n","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport createLogger from 'vuex/dist/logger'\r\n\r\nimport state from './state'\r\nimport getters from './getters'\r\nimport mutations from './mutations'\r\nimport actions from './actions'\r\n\r\nVue.use(Vuex)\r\n\r\nconst debug = process.env.NODE_ENV !== 'production'\r\n\r\nexport default new Vuex.Store({\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions,\r\n  plugins: debug ? [createLogger()] : []\r\n})\r\n","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n// import Rank from '../views/rank/Rank'\r\n// import Recommend from '../views/recommend/Recommend'\r\n// import Search from '../views/search/Search'\r\n// import Singer from '../views/singer/Singer'\r\n// import SingerDetail from '../views/singer-detail/SingerDetail'\r\n// import DiscDetail from '../views/disc-detail/DiskDetail'\r\n// import RankDetail from '../views/rank-detail/RankDetail'\r\n// import MyCenter from '../views/my-center/MyCenter'\r\n\r\nVue.use(VueRouter)\r\n\r\n// // 懒加载\r\nconst Recommend = () => import('../views/recommend/Recommend')\r\nconst Rank = () => import('../views/rank/Rank')\r\nconst Search = () => import('../views/search/Search')\r\nconst Singer = () => import('../views/singer/Singer')\r\nconst SingerDetail = () => import('../views/singer-detail/SingerDetail')\r\nconst DiscDetail = () => import('../views/disc-detail/DiskDetail')\r\nconst RankDetail = () => import('../views/rank-detail/RankDetail')\r\nconst MyCenter = () => import('../views/my-center/MyCenter')\r\n\r\nexport default new VueRouter({\r\n  routes: [\r\n    { path: '/', redirect: '/recommend' },\r\n    {\r\n      path: '/recommend',\r\n      component: Recommend,\r\n      children: [\r\n        {\r\n          path: ':id',\r\n          component: DiscDetail\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: '/singer',\r\n      component: Singer,\r\n      children: [\r\n        { path: ':id', component: SingerDetail }\r\n      ]\r\n    },\r\n    {\r\n      path: '/rank',\r\n      component: Rank,\r\n      children: [\r\n        {\r\n          path: ':id',\r\n          component: RankDetail\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      path: '/search',\r\n      component: Search,\r\n      children: [\r\n        { path: ':id', component: SingerDetail }\r\n      ]\r\n    },\r\n    {\r\n      path: '/center',\r\n      component: MyCenter\r\n    }\r\n  ]\r\n})\r\n","import Vue from 'vue'\nimport fastclick from 'fastclick'\nimport VueLazyload from 'vue-lazyload'\nimport App from './App.vue'\nimport store from './store'\nimport router from './router'\nimport './common/stylus/index.styl'\n\nVue.use(VueLazyload, {\n  loading: require('./common/image/default.png')\n})\n\nfastclick.attach(document.body)\n\nVue.config.productionTip = false\n\nnew Vue({\n  store,\n  router,\n  render: h => h(App)\n}).$mount('#app')\n","module.exports = Vuex;","module.exports = \"data:image/gif;base64,R0lGODlhZABkAKIEAN7e3rq6uv///5mZmQAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpBRjA4RUZDMDI3MjA2ODExODA4M0Y1OTQyMzVDRDM3MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCMzE0Rjk3NDdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCMzE0Rjk3MzdDRTgxMUUzOUJCRjk0NjAxMUE1NzRBMCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDVBMTZDQjczOTIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUYwOEVGQzAyNzIwNjgxMTgwODNGNTk0MjM1Q0QzNzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+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\"","import originJsonp from 'jsonp'\r\nimport axios from 'axios'\r\nimport Util from './index'\r\n\r\nconst util = new Util()\r\n\r\nexport default class Request {\r\n  /**\r\n   * 自定义一个支持Promis的jsonp\r\n   * @param {String} url 请求地址\r\n   * @param {Object} data url的参数\r\n   * @param {Object} options 选项\r\n   * @param {String} options.param 与后端约定请求的字段名称，默认是callback\r\n   * @param {String} options.prefix 指定回调函数params的回调句柄前缀，默认为__jp\r\n   * @param {String} options.name 指定回调函数的句柄 默认是__jp+数字\r\n   * @param {String} options.timeout 设定一个响应时间，默认为60000ms，如果在设定设计内没有响应，则会提交error\r\n   */\r\n  jsonp(url, data, options) {\r\n    // 将参数data与url拼接\r\n    url += ((url.indexOf('?') < 0) ? '?' : '&') + util.convertsQuery(data)\r\n    return new Promise((resolve, reject) => {\r\n      originJsonp(url, options, (err, data) => {\r\n        if (!err) {\r\n          resolve(data)\r\n        } else {\r\n          reject(err)\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 向代理服务器发送一个XMLHttpRequests请求\r\n   * @param {Object} arg\r\n   * @param {String} arg.url 请求路径\r\n   * @param {String} arg.headers 后台访问第三方接口时需要传入的参数(原网站访问该接口时使用的参数)\r\n   * @param {String} arg.params 后台访问第三方接口时需要传入的请求头(原网站访问该接口时使用的请求头)\r\n   */\r\n  accessProxy(arg) {\r\n    const URL = arg.url\r\n    const data = {\r\n      headers: arg.headers,\r\n      params: arg.params\r\n    }\r\n    return axios.post(URL, data)\r\n      .then(res => {\r\n        return res.data\r\n      })\r\n  }\r\n}\r\n","module.exports = VueRouter;","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=style&index=0&id=0cde24ed&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=style&index=0&id=0cde24ed&lang=stylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MHeader.vue?vue&type=style&index=0&id=a7014264&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MHeader.vue?vue&type=style&index=0&id=a7014264&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","module.exports = \"data:image/png;base64,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\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=style&index=0&id=706c07d0&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=style&index=0&id=706c07d0&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"song-list\"},[(_vm.songs && _vm.songs.length)?_c('ul',{staticClass:\"list\"},_vm._l((_vm.songs),function(item,index){return _c('li',{key:index,staticClass:\"song\",on:{\"click\":function($event){return _vm.selectSong(item, index)}}},[(_vm.rank)?_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{class:_vm.computedIcon(index),domProps:{\"textContent\":_vm._s(_vm.computedText(index))}})]):_vm._e(),_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(item.name))]),_c('span',{staticClass:\"decription\"},[_vm._v(_vm._s(item.singer + ' - ' + item.album))])])])}),0):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.songs || !_vm.songs.length),expression:\"!songs || !songs.length\"}],staticClass:\"loading-wrapper\"},[_c('loading')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"song-list\">\r\n    <ul class=\"list\" v-if=\"songs && songs.length\">\r\n      <li class=\"song\"\r\n          v-for=\"(item, index) in songs\"\r\n          :key=\"index\"\r\n          @click=\"selectSong(item, index)\"\r\n      >\r\n        <div class=\"icon-wrapper\" v-if=\"rank\">\r\n          <span :class=\"computedIcon(index)\" v-text=\"computedText(index)\"></span>\r\n        </div>\r\n        <div class=\"info\">\r\n          <span class=\"title\">{{ item.name }}</span>\r\n          <span class=\"decription\">{{ item.singer + ' - ' + item.album }}</span>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <div class=\"loading-wrapper\" v-show=\"!songs || !songs.length\">\r\n      <loading/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Loading from '../loading/Loading'\r\nexport default {\r\n  props: {\r\n    songs: {\r\n      type: Array,\r\n      default: () => {\r\n        return []\r\n      }\r\n    },\r\n    rank: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  computed: {\r\n    icon(index) {\r\n      return this.computedIcon(index)\r\n    }\r\n  },\r\n  components: {\r\n    Loading\r\n  },\r\n  methods: {\r\n    selectSong(song, index) {\r\n      this.$emit('selectSong', song, index)\r\n    },\r\n    computedIcon(index) {\r\n      if (index < 3) {\r\n        return 'icon icon' + index\r\n      } else {\r\n        return 'text'\r\n      }\r\n    },\r\n    computedText(index) {\r\n      if (index > 2) {\r\n        return index + 1\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '../../common/stylus/variable';\r\n@import '../../common/stylus/mixin';\r\n.song-list {\r\n  background rgba(250,250,250,1)\r\n  padding 20px 30px\r\n  .list {\r\n    .song {\r\n      display flex\r\n      height 64px\r\n      font-size $font-size-medium\r\n      .icon-wrapper {\r\n        position relative\r\n        flex 0 0 55px\r\n        .icon {\r\n          display block\r\n          width 25px\r\n          height 25px\r\n          background-size contain\r\n          position absolute\r\n          top 10px\r\n          &.icon0 {\r\n            bg-img('0')\r\n          }\r\n          &.icon1 {\r\n            bg-img('1')\r\n          }\r\n          &.icon2 {\r\n            bg-img('2')\r\n          }\r\n        }\r\n        .text {\r\n          position absolute\r\n          font-size 18px\r\n          color #2c3e50\r\n          top 15px\r\n          left 5px\r\n        }\r\n      }\r\n      .info {\r\n        flex 1\r\n        display flex\r\n        flex-direction column\r\n        height 100%\r\n        span {\r\n          margin 5px 0\r\n          &.title {\r\n            display -webkit-box\r\n            -webkit-box-orient vertical\r\n            -webkit-line-clamp 1\r\n            overflow hidden\r\n            font-size 16px\r\n          }\r\n          &.decription {\r\n            color #aaa\r\n            display -webkit-box\r\n            -webkit-box-orient vertical\r\n            -webkit-line-clamp 1\r\n            overflow hidden\r\n            width 90%\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .loading-wrapper{\r\n    position absolute\r\n    top 0\r\n    bottom 0\r\n    left 0\r\n    width 100%\r\n    flex-center()\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SongList.vue?vue&type=template&id=46f978fe&scoped=true&\"\nimport script from \"./SongList.vue?vue&type=script&lang=js&\"\nexport * from \"./SongList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SongList.vue?vue&type=style&index=0&id=46f978fe&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46f978fe\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('scroll',{ref:\"scroll\",staticClass:\"search-result\",attrs:{\"tag\":_vm.result.length,\"listenScrollEnd\":true},on:{\"onScrollToEnd\":_vm.searchMore}},[_c('div',[(_vm.result.length)?_c('ul',{staticClass:\"list\"},_vm._l((_vm.result),function(item,index){return _c('li',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.selectResult(item)}}},[_c('span',{staticClass:\"icon\"},[_c('i',{class:_vm.setIcon(item)})]),_c('span',{staticClass:\"text\",domProps:{\"innerHTML\":_vm._s(_vm.setSongName(item))}})])}),0):_vm._e(),_c('div',{staticClass:\"bottom\"},[(_vm.hasMore && !_vm.info)?_c('loading',{staticClass:\"search-loading\",attrs:{\"loadingInfo\":\"\"}}):_vm._e(),(_vm.info)?_c('div',{staticClass:\"info\"},[_vm._v(_vm._s(_vm.info))]):_vm._e()],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <scroll :tag=\"result.length\"\r\n          class=\"search-result\"\r\n          ref=\"scroll\"\r\n          :listenScrollEnd=\"true\"\r\n          @onScrollToEnd=\"searchMore\"\r\n  >\r\n    <div>\r\n      <ul class=\"list\" v-if=\"result.length\">\r\n        <li class=\"item\"\r\n            v-for=\"(item, index) in result\"\r\n            :key=\"index\"\r\n            @click=\"selectResult(item)\"\r\n        >\r\n          <span class=\"icon\">\r\n            <i :class=\"setIcon(item)\"></i>\r\n          </span>\r\n          <span class=\"text\" v-html=\"setSongName(item)\"></span>\r\n        </li>\r\n      </ul>\r\n      <div class=\"bottom\">\r\n        <loading class=\"search-loading\"\r\n                 v-if=\"hasMore && !info\"\r\n                 loadingInfo=\"\"\r\n        />\r\n        <div class=\"info\" v-if=\"info\">{{ info }}</div>\r\n      </div>\r\n    </div>\r\n  </scroll>\r\n</template>\r\n\r\n<script>\r\nimport { search } from '../../api/search'\r\nimport { processUrl, isValidMusic, createSong } from '../../common/util/song'\r\nimport { ERR_OK } from '../../api/config'\r\nimport Singer from '../../common/util/singer'\r\nimport { mapMutations, mapActions, mapState } from 'vuex'\r\nimport { playListMixin } from '../../common/util/mixin'\r\n\r\nimport Scroll from '../../base/scroll/Scroll'\r\nimport Loading from '../../base/loading/Loading'\r\n\r\nconst PERPAGE = 20\r\nconst TYPE_SINGER = 'singer'\r\n\r\nexport default {\r\n  mixins: [playListMixin],\r\n  props: {\r\n    query: {\r\n      default: ''\r\n    },\r\n    showSinger: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    playCurrentSong: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      page: 1,\r\n      result: [],\r\n      hasMore: true,\r\n      info: ''\r\n    }\r\n  },\r\n  components: {\r\n    Scroll,\r\n    Loading\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      'playList'\r\n    ])\r\n  },\r\n  methods: {\r\n    whenPlayList(playList) {\r\n      const bottom = playList.length ? '60px' : ''\r\n      this.$refs.scroll.$el.style.bottom = bottom\r\n      this.$refs.scroll.refresh()\r\n    },\r\n    search() {\r\n      this.result = []\r\n      this.page = 1\r\n      this.hasMore = true\r\n      this.info = ''\r\n      this.$refs.scroll.scrollTo(0, 0)\r\n      search(this.query, this.page, this.showSinger, PERPAGE)\r\n        .then(res => {\r\n          if (res.code === ERR_OK) {\r\n            if (res.message === 'no results') {\r\n              this.info = '木有更多啦 /(ㄒoㄒ)/~~'\r\n              return\r\n            }\r\n            this._normalizeRes(res.data)\r\n            this._hasMore(res.data.song)\r\n          }\r\n        })\r\n    },\r\n    searchMore() {\r\n      this.scrollReady = false\r\n      if (!this.hasMore) {\r\n        return\r\n      }\r\n      this.page++\r\n      search(this.query, this.page, this.showSinger, PERPAGE)\r\n        .then(res => {\r\n          if (res.code === ERR_OK) {\r\n            if (res.message === 'no results') {\r\n              this.info = '没有了哟 ╮(╯▽╰)╭1'\r\n              return\r\n            }\r\n            this.info = ''\r\n            this._normalizeRes(res.data)\r\n            this._hasMore(res.data.song)\r\n          }\r\n        })\r\n    },\r\n    setIcon(item) {\r\n      return item.type === TYPE_SINGER ? 'icon-mine' : 'icon-music'\r\n    },\r\n    setSongName(item) {\r\n      return item.type === TYPE_SINGER\r\n        ? item.singername\r\n        : item.name + ' - ' + item.singer\r\n    },\r\n    selectResult(item) {\r\n      this.$emit('selectResult', item)\r\n      if (item.type === TYPE_SINGER) {\r\n        const singer = new Singer(item.singername, item.singermid)\r\n\r\n        // 通过vuex设置singer属性\r\n        this.setSinger(singer.addAvatar())\r\n        this.$router.push({\r\n          path: `/search/${item.singermid}`\r\n        })\r\n      } else {\r\n        this.insertSong({\r\n          song: item,\r\n          playCurrentSong: this.playCurrentSong\r\n        })\r\n      }\r\n\r\n      // 被点击的对象将被添加进入历史栏\r\n      this._setHistory()\r\n    },\r\n    _setHistory() {\r\n      this.saveSearchHistory(this.query)\r\n    },\r\n    _normalizeSong(song) {\r\n      return song\r\n    },\r\n    _hasMore(song) {\r\n      if (song.curpage * PERPAGE >= song.totalnum) {\r\n        this.hasMore = false\r\n        this.info = '找不到更多的了 /(ㄒoㄒ)/~~'\r\n      } else {\r\n        if (!this.$refs.scroll.scroll.hasVerticalScroll) {\r\n          this.searchMore()\r\n        }\r\n      }\r\n    },\r\n    // TODO: normalizeSongs\r\n    _normalizeRes(data, noSinger) {\r\n      const ret = []\r\n      if (!noSinger && data.zhida && data.zhida.singermid) {\r\n        ret.push({ ...data.zhida, ...{ type: TYPE_SINGER } })\r\n      }\r\n      if (data.song && data.song.list) {\r\n        const songs = data.song.list\r\n        songs.forEach(item => {\r\n          if (isValidMusic(item)) {\r\n            ret.push(createSong(item))\r\n          }\r\n        })\r\n      }\r\n      let singer = null\r\n      if (ret[0] && ret[0].type === TYPE_SINGER) {\r\n        singer = ret.shift()\r\n      }\r\n      processUrl(ret).then(res => {\r\n        const ret = []\r\n        res.forEach(item => {\r\n          if (item.url) {\r\n            ret.push(item)\r\n          }\r\n        })\r\n        if (this.result.length === 0 && singer) {\r\n          ret.unshift(singer)\r\n        }\r\n        this.result = this.result.concat(ret)\r\n      })\r\n    },\r\n    ...mapMutations(['setSinger']),\r\n    ...mapActions(['insertSong', 'saveSearchHistory'])\r\n  },\r\n  watch: {\r\n    query(newQuery) {\r\n      this.search()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.search-result {\r\n  position absolute\r\n  top 0\r\n  bottom 0\r\n  width 100%\r\n  box-sizing border-box\r\n  padding 10px 30px 0 30px\r\n  font-size 14px\r\n  overflow hidden\r\n  color #2c3e50\r\n  .list {\r\n    .item {\r\n      margin-bottom 20px\r\n      height 16px\r\n      line-height 16px\r\n      display -webkit-box\r\n      -webkit-box-orient vertical\r\n      -webkit-line-clamp 1\r\n      overflow hidden\r\n      .icon {\r\n        display inline-block\r\n        width 30px\r\n      }\r\n    }\r\n  }\r\n  .bottom {\r\n    padding-bottom 20px\r\n    .info {\r\n      font-size 16px\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchResult.vue?vue&type=template&id=706c07d0&scoped=true&\"\nimport script from \"./SearchResult.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchResult.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchResult.vue?vue&type=style&index=0&id=706c07d0&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"706c07d0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=4d0206d3&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=4d0206d3&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"popup\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"confirm\"},[_c('div',{staticClass:\"confirm-wrapper\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"control\"},[_c('span',{staticClass:\"confirm-btn\",on:{\"click\":_vm.confirm}},[_vm._v(_vm._s(_vm.confirmBtn))]),_c('span',{staticClass:\"cancel-btn\",on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.cancelBtn))])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition name=\"popup\">\r\n    <div class=\"confirm\" v-show=\"isShow\">\r\n      <div class=\"confirm-wrapper\" @click.stop>\r\n        <div class=\"title\">{{ title }}</div>\r\n        <div class=\"control\">\r\n          <span class=\"confirm-btn\" @click=\"confirm\">{{ confirmBtn }}</span>\r\n          <span class=\"cancel-btn\" @click=\"cancel\">{{ cancelBtn }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      default: '是否继续操作'\r\n    },\r\n    confirmBtn: {\r\n      default: '确认'\r\n    },\r\n    cancelBtn: {\r\n      default: '取消'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isShow: false\r\n    }\r\n  },\r\n  methods: {\r\n    show() {\r\n      this.isShow = true\r\n    },\r\n    hide() {\r\n      this.isShow = false\r\n    },\r\n    confirm() {\r\n      this.$emit('confirm')\r\n      this.hide()\r\n    },\r\n    cancel() {\r\n      this.hide()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '../../common/stylus/variable';\r\n@import '../../common/stylus/mixin';\r\n.confirm {\r\n  position fixed\r\n  top 0\r\n  bottom 0\r\n  width 100%\r\n  background $color-background-e\r\n  font-size 18px\r\n  flex-center()\r\n  .confirm-wrapper {\r\n    width 270px\r\n    border-radius 20px\r\n    background #fff\r\n    .title {\r\n      min-height 60px\r\n      flex-center()\r\n      padding 20px\r\n      color #2c3e50\r\n      box-sizing border-box\r\n    }\r\n    .control {\r\n      height 43px\r\n      border-top 1px solid #ddd\r\n      color #777\r\n      display flex\r\n      .confirm-btn {\r\n        flex 1\r\n        border-right 1px solid #ddd\r\n        flex-center()\r\n      }\r\n      .cancel-btn {\r\n        flex 1\r\n        flex-center()\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.popup-enter-active{\r\n  animation: confirm-fadein 0.3s\r\n  .confirm-wrapper{\r\n    animation: confirm-zoom 0.3s\r\n  }\r\n}\r\n@keyframes confirm-fadein{\r\n  0%{\r\n    opacity: 0\r\n  }\r\n  100%{\r\n    opacity: 1\r\n  }\r\n}\r\n@keyframes confirm-zoom{\r\n  0%{\r\n    transform: scale(0)\r\n  }\r\n  50%{\r\n    transform: scale(1.1)\r\n  }\r\n  100%{\r\n    transform: scale(1)\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Confirm.vue?vue&type=template&id=fb78aac0&scoped=true&\"\nimport script from \"./Confirm.vue?vue&type=script&lang=js&\"\nexport * from \"./Confirm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Confirm.vue?vue&type=style&index=0&id=fb78aac0&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fb78aac0\",\n  null\n  \n)\n\nexport default component.exports","module.exports = Vue;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-input\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"search-box\"},[_vm._m(0),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],ref:\"input\",attrs:{\"type\":\"text\",\"placeholder\":_vm.placeholder},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.query=$event.target.value}}}),(_vm.query)?_c('span',{staticClass:\"clear\"},[_c('i',{staticClass:\"icon-dismiss\",on:{\"click\":_vm.clearVal}})]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"search\"},[_c('i',{staticClass:\"icon-search\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search-input\" @click.stop>\r\n    <div class=\"search-box\">\r\n      <span class=\"search\">\r\n        <i class=\"icon-search\"></i>\r\n      </span>\r\n      <input ref=\"input\" type=\"text\" :placeholder=\"placeholder\" v-model=\"query\">\r\n      <span  class=\"clear\" v-if=\"query\">\r\n        <i @click=\"clearVal\" class=\"icon-dismiss\"></i>\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Util from '../../common/util'\r\n\r\nconst util = new Util()\r\n\r\nexport default {\r\n  props: {\r\n    placeholder: {\r\n      default: '搜索歌曲、歌手'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      query: ''\r\n    }\r\n  },\r\n  methods: {\r\n    // 清空输入框\r\n    clearVal() {\r\n      this.query = ''\r\n    },\r\n    // 给内容框直接添加内容\r\n    addVal(val) {\r\n      this.query = val\r\n    },\r\n    blur() {\r\n      this.$refs.input.blur()\r\n    }\r\n  },\r\n  created() {\r\n    this.$watch('query', util.throttle(newQuery => {\r\n      this.$emit('getQuery', newQuery)\r\n    }, 300))\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '../../common/stylus/mixin';\r\n\r\n.search-input {\r\n  width 100%\r\n  .search-box {\r\n    position relative\r\n    margin 20px\r\n    height 40px\r\n    input {\r\n      width 100%\r\n      height 100%\r\n      background #fff\r\n      border-radius 6px\r\n      padding-left 40px\r\n      box-sizing border-box\r\n      border none\r\n      outline medium\r\n      color #2c3e50\r\n      font-size 14px\r\n      &::placeholder {\r\n        color #999\r\n      }\r\n    }\r\n    .search, .clear {\r\n      position absolute\r\n      flex-center()\r\n      width 40px\r\n      height 100%\r\n      top 0\r\n      background #fff\r\n      border-radius 6px\r\n    }\r\n    .search {\r\n      font-size 24px\r\n      color #999\r\n    }\r\n    .clear {\r\n      font-size 16px\r\n      right 0\r\n      color #999\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchInput.vue?vue&type=template&id=373351e4&scoped=true&\"\nimport script from \"./SearchInput.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchInput.vue?vue&type=style&index=0&id=373351e4&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"373351e4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSong.vue?vue&type=style&index=0&id=59f61a0f&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSong.vue?vue&type=style&index=0&id=59f61a0f&lang=stylus&scoped=true&\"","module.exports = VueLazyload;","import { getSongsUrl } from '../../api/song'\r\n// TODO:util song\r\n// 整理获取到的数据\r\nexport default class Song {\r\n  constructor({ id, mid, singer, name, album, duration, singerMid, image, url }) {\r\n    this.id = id\r\n    this.mid = mid\r\n    this.singer = singer\r\n    this.name = name\r\n    this.album = album\r\n    this.duration = duration\r\n    this.image = image\r\n    this.singer_mid = singerMid\r\n    this.filename = `C400${this.mid}.m4a`\r\n    this.url = url\r\n  }\r\n}\r\n\r\n// 判断歌曲是否可用\r\nexport function isValidMusic (musicData) {\r\n  return musicData.songid && musicData.albummid && (!musicData.pay || musicData.pay.payalbumprice === 0)\r\n}\r\n// 对单个歌曲的数据进行处理\r\nexport function createSong(musicData) {\r\n  return new Song({\r\n    id: musicData.songid,\r\n    mid: musicData.songmid,\r\n    singer: filterSinger(musicData.singer),\r\n    name: musicData.songname,\r\n    album: musicData.albumname,\r\n    duration: musicData.interval,\r\n    singerMid: musicData.singer[0].mid,\r\n    image: `https://y.gtimg.cn/music/photo_new/T002R300x300M000${musicData.albummid}.jpg?max_age=2592000`,\r\n    url: musicData.url\r\n  })\r\n}\r\n/**\r\n * 规范化歌手名\r\n * @param {Array} singer 一个数组中包含对象，对象必须拥有name选项\r\n */\r\nexport function filterSinger(singer) {\r\n  const ret = []\r\n  if (!singer) {\r\n    return ''\r\n  }\r\n  singer.forEach((s) => {\r\n    ret.push(s.name)\r\n  })\r\n  return ret.join(' / ')\r\n}\r\n// 给所有歌曲传入url\r\nexport function processUrl(songs) {\r\n  if (!songs.length) {\r\n    return Promise.resolve(songs)\r\n  }\r\n  return getSongsUrl(songs).then(purlMap => {\r\n    songs = songs.filter(song => {\r\n      const purl = purlMap[song.mid]\r\n      if (purl) {\r\n        song.url = purl.indexOf('http') === -1 ? `http://dl.stream.qqmusic.qq.com/${purl}` : purl\r\n        return song\r\n      }\r\n    })\r\n    return songs\r\n  })\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressCircle.vue?vue&type=style&index=0&id=cb8f7fc0&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProgressCircle.vue?vue&type=style&index=0&id=cb8f7fc0&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"toggle-button\"},_vm._l((_vm.btnTitle),function(item,index){return _c('div',{key:index,staticClass:\"btn\",class:{ active: _vm.currentSelect === index },on:{\"click\":function($event){return _vm.selectBtn(index)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"toggle-button\">\r\n    <div class=\"btn\"\r\n         v-for=\"(item, index) in btnTitle\"\r\n         :key=\"index\"\r\n         :class=\"{ active: currentSelect === index }\"\r\n         @click=\"selectBtn(index)\"\r\n    >\r\n      {{ item }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    btnTitle: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    currentSelect: {\r\n      type: Number,\r\n      default: 0\r\n    }\r\n  },\r\n  methods: {\r\n    selectBtn(index) {\r\n      this.$emit('selectBtn', index)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.toggle-button {\r\n  height 30px\r\n  width 240px\r\n  display flex\r\n  border-radius 5px\r\n  border 1px solid #333\r\n  box-sizing border-box\r\n  color #2c3e50\r\n  .btn {\r\n    flex 1\r\n    text-align center\r\n    line-height 30px\r\n    &.active {\r\n      background #333\r\n      color #fff\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToggleButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToggleButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ToggleButton.vue?vue&type=template&id=a5999318&scoped=true&\"\nimport script from \"./ToggleButton.vue?vue&type=script&lang=js&\"\nexport * from \"./ToggleButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ToggleButton.vue?vue&type=style&index=0&id=a5999318&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a5999318\",\n  null\n  \n)\n\nexport default component.exports","export const playMode = {\r\n  sequence: 0,\r\n  loop: 1,\r\n  random: 2\r\n}\r\n\r\nexport const storageKey = {\r\n  search: '__search__',\r\n  play: '__play__',\r\n  collect: '__collect__'\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"trans\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],ref:\"topTip\",staticClass:\"top-tip\"},[_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"icon-ok\"})]),_c('span',{staticClass:\"text\"},[_vm._v(\" \"+_vm._s(_vm.info)+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition name=\"trans\">\r\n    <div class=\"top-tip\" ref=\"topTip\" v-show=\"isShow\">\r\n      <span class=\"icon\">\r\n        <i class=\"icon-ok\"></i>\r\n      </span>\r\n      <span class=\"text\">\r\n        {{ info }}\r\n      </span>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    info: {\r\n      type: String,\r\n      default: '成功'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      isShow: false\r\n    }\r\n  },\r\n  methods: {\r\n    show() {\r\n      clearTimeout(this.timer1)\r\n      clearTimeout(this.timer2)\r\n      this.isShow = false\r\n      this.timer1 = setTimeout(() => {\r\n        this.isShow = true\r\n        this.timer2 = setTimeout(() => {\r\n          this.isShow = false\r\n        }, 1500)\r\n      }, 200)\r\n    },\r\n    hide() {\r\n      this.isShow = false\r\n    },\r\n    _setLeft() {\r\n      const bodyWidth = window.innerWidth\r\n      const tipWidth = 230\r\n      const left = bodyWidth / 2 - tipWidth / 2\r\n      this.$refs.topTip.style.left = left + 'px'\r\n    }\r\n  },\r\n  mounted() {\r\n    this._setLeft()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '../../common/stylus/mixin';\r\n.top-tip {\r\n  position fixed !important\r\n  top 25px !important\r\n  background-color #fff\r\n  border-radius 3px\r\n  padding 7px 0\r\n  width 210px\r\n  color rgb(152,195,121)\r\n  font-weight bold\r\n  box-shadow 1px 1px 3px #aaa\r\n  flex-center()\r\n  .icon {\r\n    font-weight bold\r\n    margin-right 15px\r\n  }\r\n  .text {\r\n    font-size 16px\r\n  }\r\n}\r\n\r\n.trans-enter-active {\r\n  transition all .3s linear\r\n}\r\n.trans-leave-active {\r\n  transition all .2s linear\r\n}\r\n.trans-enter, .trans-leave-to {\r\n  transform translateY(-55px)\r\n  opacity 0\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopTip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopTip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopTip.vue?vue&type=template&id=55076256&scoped=true&\"\nimport script from \"./TopTip.vue?vue&type=script&lang=js&\"\nexport * from \"./TopTip.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TopTip.vue?vue&type=style&index=0&id=55076256&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55076256\",\n  null\n  \n)\n\nexport default component.exports","module.exports = axios;","export default class Singer {\r\n  /**\r\n   * @param {String} name 歌手名\r\n   * @param {String}} id 歌手的id\r\n   */\r\n  constructor(name, id) {\r\n    this.name = name\r\n    this.id = id\r\n  }\r\n\r\n  /**\r\n   * 在歌手信息中添加一个avatar(头像地址)\r\n   */\r\n  addAvatar() {\r\n    const avatar = `https://y.gtimg.cn/music/photo_new/T001R500x500M000${this.id}.jpg?max_age=2592000`\r\n    return {\r\n      name: this.name,\r\n      id: this.id,\r\n      avatar\r\n    }\r\n  }\r\n}\r\n","let _uid = ''\r\n\r\nexport function getUid () {\r\n  if (_uid) {\r\n    return _uid\r\n  }\r\n  if (!_uid) {\r\n    const t = (new Date()).getUTCMilliseconds()\r\n    _uid = '' + Math.round(2147483647 * Math.random()) * t % 1e10\r\n  }\r\n  return _uid\r\n}\r\n","import { getUid } from '../common/util/uid'\r\nimport { jsonpCommonParams, ERR_OK } from './config'\r\nimport axios from 'axios'\r\n\r\nexport function getSongsUrl(songs) {\r\n  const url = '/api/getPurlUrl'\r\n\r\n  const mids = []\r\n  const types = []\r\n\r\n  songs.forEach((song) => {\r\n    mids.push(song.mid)\r\n    types.push(0)\r\n  })\r\n\r\n  const urlMid = genUrlMid(mids, types)\r\n\r\n  const data = Object.assign({}, jsonpCommonParams, {\r\n    format: 'json',\r\n    platform: 'h5',\r\n    needNewCode: 1,\r\n    uin: 0\r\n  })\r\n\r\n  return new Promise((resolve, reject) => {\r\n    let tryTime = 3\r\n\r\n    function request() {\r\n      return axios.post(url, {\r\n        comm: data,\r\n        req_0: urlMid\r\n      }).then(res => {\r\n        const ret = res.data\r\n        if (ret.code === ERR_OK) {\r\n          const urlMid = ret.req_0\r\n          if (urlMid && urlMid.code === ERR_OK) {\r\n            const purlMap = {}\r\n            urlMid.data.midurlinfo.forEach(item => {\r\n              if (item.purl) {\r\n                purlMap[item.songmid] = item.purl\r\n              }\r\n            })\r\n\r\n            if (Object.keys(purlMap).length) {\r\n              resolve(purlMap)\r\n            } else {\r\n              retry()\r\n            }\r\n          } else {\r\n            retry()\r\n          }\r\n        } else {\r\n          retry()\r\n        }\r\n      })\r\n    }\r\n\r\n    function retry () {\r\n      if (--tryTime >= 0) {\r\n        request()\r\n      } else {\r\n        reject(new Error('Can not get the songs url'))\r\n      }\r\n    }\r\n    request()\r\n  })\r\n}\r\n\r\nexport function getLyric(mid) {\r\n  const URL = '/api/lyric'\r\n  const params = Object.assign({}, jsonpCommonParams, {\r\n    songmid: mid,\r\n    platform: 'yqq',\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    categoryId: 10000000,\r\n    pcachetime: +new Date(),\r\n    format: 'json'\r\n  })\r\n\r\n  return axios.get(URL, {\r\n    params\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n\r\nfunction genUrlMid (mids, types) {\r\n  const guid = getUid()\r\n  return {\r\n    module: 'vkey.GetVkeyServer',\r\n    method: 'CgiGetVkey',\r\n    param: {\r\n      guid,\r\n      songmid: mids,\r\n      songtype: types,\r\n      uin: '0',\r\n      loginflag: 0,\r\n      platform: '23'\r\n    }\r\n  }\r\n}\r\n","// 导出一个url参数集合\r\nexport const commonParams = {\r\n  g_tk: 1248420552,\r\n  format: 'json',\r\n  inCharset: 'utf8',\r\n  outCharset: 'utf-8',\r\n  notice: 0,\r\n  hostUin: 0,\r\n  loginUin: 1637923564,\r\n  platform: 'yqq.json',\r\n  needNewCode: 0\r\n}\r\nexport const jsonpCommonParams = {\r\n  g_tk: 5381,\r\n  inCharset: 'utf-8',\r\n  outCharset: 'utf-8',\r\n  notice: 0,\r\n  format: 'jsonp'\r\n}\r\n\r\nexport const commonHeaders = {\r\n  origin: 'https://y.qq.com',\r\n  referer: 'https://y.qq.com/portal/playlist.html'\r\n}\r\n\r\nexport const jsonpOptions = {\r\n  param: 'jsonpCallback'\r\n}\r\nexport const ERR_OK = 0\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=style&index=0&id=46f978fe&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=style&index=0&id=46f978fe&lang=stylus&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryList.vue?vue&type=style&index=0&id=3ac1baa4&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryList.vue?vue&type=style&index=0&id=3ac1baa4&lang=stylus&scoped=true&\"","module.exports = BScroll;","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"history-box\"},[(_vm.list && _vm.list.length)?_c('transition-group',{staticClass:\"list\",attrs:{\"name\":\"list\",\"tag\":\"ul\"}},_vm._l((_vm.list),function(item,index){return _c('li',{key:item,staticClass:\"history\",on:{\"click\":function($event){return _vm.selectHistory(item)}}},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item))]),_c('span',{staticClass:\"icon\"},[_c('i',{staticClass:\"icon-delete\",on:{\"click\":function($event){$event.stopPropagation();return _vm.removeOne(index)}}})])])}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"history-box\">\r\n    <transition-group name=\"list\" tag=\"ul\" class=\"list\" v-if=\"list && list.length\">\r\n      <li class=\"history\"\r\n          v-for=\"(item, index) in list\"\r\n          :key=\"item\"\r\n          @click=\"selectHistory(item)\"\r\n      >\r\n        <span class=\"text\">{{ item }}</span>\r\n        <span class=\"icon\">\r\n          <i class=\"icon-delete\" @click.stop=\"removeOne(index)\"></i>\r\n        </span>\r\n      </li>\r\n    </transition-group>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  props: {\r\n    list: {\r\n      type: Array,\r\n      default: function() {\r\n        return []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    selectHistory(item) {\r\n      this.$emit('selectHistory', item)\r\n    },\r\n    removeOne(index) {\r\n      this.$emit('removeOne', index)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '../../common/stylus/variable';\r\n.history-box {\r\n  color #2c3e50\r\n  .list {\r\n    .history {\r\n      height 40px\r\n      line-height 40px\r\n      font-size 16px\r\n      position relative\r\n      &.list-enter-active, &.list-leave-active {\r\n        transition all .3s linear\r\n      }\r\n      &.list-enter, &.list-leave-to {\r\n        height 0\r\n        opacity 0\r\n      }\r\n      .icon {\r\n        font-size 12px\r\n        position absolute\r\n        right 0\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HistoryList.vue?vue&type=template&id=3ac1baa4&scoped=true&\"\nimport script from \"./HistoryList.vue?vue&type=script&lang=js&\"\nexport * from \"./HistoryList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HistoryList.vue?vue&type=style&index=0&id=3ac1baa4&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ac1baa4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}