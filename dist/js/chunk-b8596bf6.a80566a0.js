(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b8596bf6"],{"251a":function(t,e,n){},"2b27":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"singer"},[n("list-view",{attrs:{data:t.singers},on:{selectSinger:t.selectSinger}}),n("transition",{attrs:{name:"slide"}},[n("router-view")],1)],1)},r=[],s=(n("99af"),n("4160"),n("b0c0"),n("ac1f"),n("466d"),n("159b"),n("5530")),a=n("5880"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-view"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.data.length,expression:"!data.length"}],staticClass:"loading-wrapper"},[n("loading")],1),n("scroll",{ref:"listView",staticClass:"list-view-wrapper",attrs:{listenScroll:!0,probeType:3},on:{scroll:t.scroll}},[n("ul",t._l(t.data,(function(e,i){return n("li",{key:i,ref:"listGroup",refInFor:!0,staticClass:"singer-group"},[n("h1",{staticClass:"group-title"},[t._v(" "+t._s(e.title))]),n("ul",t._l(e.list,(function(e,i){return n("li",{key:i,staticClass:"singer",on:{click:function(n){return t.selectSinger(e)}}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.avatar,expression:"item.avatar"}],staticClass:"avatar"}),n("span",{staticClass:"name"},[t._v(t._s(e.name)+" ")])])})),0)])})),0),t.scrollY<=0&&t.data[t.iIndex]?n("div",{ref:"fixed",staticClass:"fixed-wrapper"},[n("span",{staticClass:"fixed-title"},[t._v(t._s(t.data[t.iIndex].title))])]):t._e()]),n("div",{staticClass:"singer-shortcut-wrapper"},[n("ul",{staticClass:"shortcut-list",on:{touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.controlPageJump(e)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.controlPageJump(e)}}},t._l(t.data,(function(e,i){return n("li",{key:i,ref:"shortcut",refInFor:!0,staticClass:"shortcut",class:{active:t.iIndex===i},attrs:{"data-index":i}},[t._v(" "+t._s(e.title.charAt(0))+" ")])})),0)])],1)},o=[],l=(n("a9e3"),n("c7cd"),n("2b64")),u=n("1b9e"),f=n("1e2f"),d=n("470c"),h=new u["a"],g={},p=30,v=null,m={mixins:[d["d"]],data:function(){return{iIndex:0,scrollY:0,diff:0}},props:{data:{type:Array,required:!0}},components:{Scroll:l["a"],Loading:f["a"]},methods:{whenPlayList:function(t){var e=t.length?"60px":"";this.$refs.listView.$el.style.bottom=e,this.$refs.listView.refresh()},controlPageJump:function(t){if("touchstart"===t.type)g.y1=t.touches[0].clientY,v=h.attr(t.target,"index"),this.$refs.listView.scrollToElement(this.$refs.listGroup[v],250);else if("touchmove"===t.type){g.y2=t.touches[0].clientY;var e=Math.floor(Number(v)+(g.y2-g.y1)/this.$refs.shortcut[0].clientHeight);this.$refs.listView.scrollToElement(this.$refs.listGroup[e],0)}},scroll:function(t){this.scrollY=t.y;var e=h.getElPosition(this.$refs.listGroup),n=h.getCurrentIndex(e,Math.abs(this.scrollY));this.iIndex=n.result,this.diff=n.diffHeight},selectSinger:function(t){this.$emit("selectSinger",t)}},watch:{diff:function(t){this.$refs.fixed&&(this.$refs.fixed.style.top=t<=30?t-p+"px":0)}}},_=m,w=(n("709a"),n("2877")),x=Object(w["a"])(_,c,o,!1,null,"43966cd2",null),b=x.exports,y=n("7f5c"),C=10,S="热门",$={data:function(){return{singers:[]}},components:{ListView:b},created:function(){this._getSingers()},methods:Object(s["a"])({selectSinger:function(t){this.$router.push({path:"/singer/".concat(t.id)}),this.setSinger(t)},_getSingers:function(){var t=this;Object(y["b"])().then((function(e){var n=e.data.list;t._normalizeSingers(n)}))},_normalizeSingers:function(t){var e=this,n={hot:{title:S,list:[]}};t.forEach((function(t,i){i<C&&n.hot.list.push(e._spliceUrl({id:t.Fsinger_mid,name:t.Fsinger_name}));var r=t.Findex;n[r]||(n[r]={title:r,list:[]}),n[r].list.push(e._spliceUrl({id:t.Fsinger_mid,name:t.Fsinger_name}))}));var i=[n.hot],r=[],s=[];for(var a in n){var c=n[a];a.match(/[A-Z]/)?s.push(c):a.match(/\d/)&&(c.title="#",r.push(c))}s.sort((function(t,e){return t.title.charCodeAt(0)-e.title.charCodeAt(0)})),this.singers=i.concat(s,r)},_spliceUrl:function(t){var e=t.id,n=t.name;return{id:e,name:n,avatar:"https://y.gtimg.cn/music/photo_new/T001R300x300M000".concat(e,".jpg?max_age=2592000")}}},Object(a["mapMutations"])(["setSinger"]))},I=$,j=(n("ed0e"),Object(w["a"])(I,i,r,!1,null,"7d2210fd",null));e["default"]=j.exports},"466d":function(t,e,n){"use strict";var i=n("d784"),r=n("825a"),s=n("50c4"),a=n("1d80"),c=n("8aa5"),o=n("14c3");i("match",1,(function(t,e,n){return[function(e){var n=a(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var a=r(t),l=String(this);if(!a.global)return o(a,l);var u=a.unicode;a.lastIndex=0;var f,d=[],h=0;while(null!==(f=o(a,l))){var g=String(f[0]);d[h]=g,""===g&&(a.lastIndex=c(l,s(a.lastIndex),u)),h++}return 0===h?null:d}]}))},"709a":function(t,e,n){"use strict";var i=n("251a"),r=n.n(i);r.a},"7f5c":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var i=n("5ac7"),r=n("da71"),s=new i["a"];function a(){var t="https://c.y.qq.com/v8/fcg-bin/v8.fcg",e=Object.assign({},r["d"],{channel:"singer",page:"list",key:"all_all_all",pagesize:100,pagenum:2,hostUin:0,needNewCode:0,platform:"yqq"});return s.jsonp(t,e,r["e"]).then((function(t){return t}))}function c(t){var e="https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg",n=Object.assign({},r["d"],{hostUin:0,needNewCode:0,platform:"yqq",order:"listen",begin:0,num:80,songstatus:1,singermid:t});return s.jsonp(e,n,r["e"]).then((function(t){return t}))}},"857a":function(t,e,n){var i=n("1d80"),r=/"/g;t.exports=function(t,e,n,s){var a=String(i(t)),c="<"+e;return""!==n&&(c+=" "+n+'="'+String(s).replace(r,"&quot;")+'"'),c+">"+a+"</"+e+">"}},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},"90ef":function(t,e,n){},af03:function(t,e,n){var i=n("d039");t.exports=function(t){return i((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},c7cd:function(t,e,n){"use strict";var i=n("23e7"),r=n("857a"),s=n("af03");i({target:"String",proto:!0,forced:s("fixed")},{fixed:function(){return r(this,"tt","","")}})},ed0e:function(t,e,n){"use strict";var i=n("90ef"),r=n.n(i);r.a}}]);
//# sourceMappingURL=chunk-b8596bf6.a80566a0.js.map