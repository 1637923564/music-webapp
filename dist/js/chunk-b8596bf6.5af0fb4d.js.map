{"version":3,"sources":["webpack:///./src/views/singer/Singer.vue?880e","webpack:///./src/base/listView/listView.vue?f0a6","webpack:///src/base/listView/listView.vue","webpack:///./src/base/listView/listView.vue?20e1","webpack:///./src/base/listView/listView.vue","webpack:///src/views/singer/Singer.vue","webpack:///./src/views/singer/Singer.vue?33e7","webpack:///./src/views/singer/Singer.vue","webpack:///./node_modules/core-js/modules/es.string.match.js","webpack:///./src/base/listView/listView.vue?64e9","webpack:///./src/api/singer.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/internals/advance-string-index.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./node_modules/core-js/modules/es.string.fixed.js","webpack:///./src/views/singer/Singer.vue?5f4b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","singers","on","selectSinger","staticRenderFns","directives","name","rawName","value","data","length","expression","ref","scroll","_l","group","i","key","refInFor","_v","_s","title","item","j","$event","scrollY","iIndex","_e","stopPropagation","preventDefault","controlPageJump","index","class","active","charAt","mixins","diff","props","type","Array","required","components","Scroll","Loading","methods","whenPlayList","$refs","listView","$el","style","bottom","refresh","e","touch","y1","touches","clientY","currentIndex","scrollToElement","listGroup","y2","currentIndex1","coor","y","currentScrollInfo","result","diffHeight","$emit","watch","fixed","top","newDiff","TITLE_HEIGHT","component","ListView","created","_getSingers","$router","push","path","setSinger","singer","_normalizeSingers","hot","HOT_NAME","list","forEach","HOT_SINGER_LEN","map","id","Fsinger_mid","Fsinger_name","match","other","nums","sort","a","charCodeAt","b","concat","_spliceUrl","avatar","fixRegExpWellKnownSymbolLogic","anObject","toLength","requireObjectCoercible","advanceStringIndex","regExpExec","MATCH","nativeMatch","maybeCallNative","regexp","O","matcher","undefined","call","RegExp","String","res","done","rx","S","global","fullUnicode","unicode","lastIndex","A","n","matchStr","request","Request","getSingers","URL","params","Object","assign","config","channel","page","pagesize","pagenum","hostUin","needNewCode","platform","jsonp","then","getSingerDetail","singerId","order","begin","num","songstatus","singermid","quot","module","exports","string","tag","attribute","p1","replace","fails","METHOD_NAME","test","toLowerCase","split","$","createHTML","forcedStringHTMLMethod","target","proto","forced"],"mappings":"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","file":"js/chunk-b8596bf6.5af0fb4d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"singer\"},[_c('list-view',{attrs:{\"data\":_vm.singers},on:{\"selectSinger\":_vm.selectSinger}}),_c('transition',{attrs:{\"name\":\"slide\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-view\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.data.length),expression:\"!data.length\"}],staticClass:\"loading-wrapper\"},[_c('loading')],1),_c('scroll',{ref:\"listView\",staticClass:\"list-view-wrapper\",attrs:{\"listenScroll\":true,\"probeType\":3},on:{\"scroll\":_vm.scroll}},[_c('ul',_vm._l((_vm.data),function(group,i){return _c('li',{key:i,ref:\"listGroup\",refInFor:true,staticClass:\"singer-group\"},[_c('h1',{staticClass:\"group-title\"},[_vm._v(\" \"+_vm._s(group.title))]),_c('ul',_vm._l((group.list),function(item,j){return _c('li',{key:j,staticClass:\"singer\",on:{\"click\":function($event){return _vm.selectSinger(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.avatar),expression:\"item.avatar\"}],staticClass:\"avatar\"}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.name)+\" \")])])}),0)])}),0),((_vm.scrollY <= 0) && _vm.data[_vm.iIndex])?_c('div',{ref:\"fixed\",staticClass:\"fixed-wrapper\"},[_c('span',{staticClass:\"fixed-title\"},[_vm._v(_vm._s(_vm.data[_vm.iIndex].title))])]):_vm._e()]),_c('div',{staticClass:\"singer-shortcut-wrapper\"},[_c('ul',{staticClass:\"shortcut-list\",on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.controlPageJump($event)},\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.controlPageJump($event)}}},_vm._l((_vm.data),function(item,index){return _c('li',{key:index,ref:\"shortcut\",refInFor:true,staticClass:\"shortcut\",class:{active: _vm.iIndex === index},attrs:{\"data-index\":index}},[_vm._v(\" \"+_vm._s(item.title.charAt(0))+\" \")])}),0)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"list-view\">\r\n    <div class=\"loading-wrapper\"\r\n          v-show=\"!data.length\"\r\n    >\r\n      <loading />\r\n    </div>\r\n    <scroll class=\"list-view-wrapper\"\r\n            ref=\"listView\"\r\n            :listenScroll=\"true\"\r\n            :probeType=\"3\"\r\n            @scroll=\"scroll\"\r\n    >\r\n      <ul>\r\n        <li class=\"singer-group\"\r\n            v-for=\"(group, i) in data\"\r\n            :key=\"i\"\r\n            ref=\"listGroup\"\r\n        >\r\n          <h1 class=\"group-title\"> {{ group.title }}</h1>\r\n          <ul>\r\n            <li class=\"singer\"\r\n                v-for=\"(item, j) in group.list\"\r\n                :key=\"j\"\r\n                @click=\"selectSinger(item)\"\r\n            >\r\n              <img v-lazy=\"item.avatar\" class=\"avatar\">\r\n              <span class=\"name\">{{ item.name }} </span>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n      <div class=\"fixed-wrapper\" v-if=\"(scrollY <= 0) && data[iIndex]\" ref=\"fixed\">\r\n        <span class=\"fixed-title\">{{ data[iIndex].title }}</span>\r\n      </div>\r\n    </scroll>\r\n    <div class=\"singer-shortcut-wrapper\">\r\n      <ul class=\"shortcut-list\"\r\n          @touchstart.stop.prevent=\"controlPageJump\"\r\n          @touchmove.stop.prevent=\"controlPageJump\"\r\n      >\r\n        <li class=\"shortcut\"\r\n            v-for=\"(item, index) in data\"\r\n            :key=\"index\"\r\n            :data-index=\"index\"\r\n            ref=\"shortcut\"\r\n            :class=\"{active: iIndex === index}\"\r\n        >\r\n          {{ item.title.charAt(0) }}\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Scroll from '../scroll/Scroll'\r\nimport Util from '../../common/util'\r\nimport Loading from '../loading/Loading'\r\nimport { playListMixin } from '../../common/util/mixin'\r\n\r\nconst util = new Util()\r\n\r\nconst touch = {}\r\nconst TITLE_HEIGHT = 30\r\nlet currentIndex = null\r\nexport default {\r\n  mixins: [playListMixin],\r\n  data() {\r\n    return {\r\n      iIndex: 0,\r\n      scrollY: 0,\r\n      diff: 0\r\n    }\r\n  },\r\n  props: {\r\n    data: {\r\n      type: Array,\r\n      required: true\r\n    }\r\n  },\r\n  components: {\r\n    Scroll,\r\n    Loading\r\n  },\r\n  methods: {\r\n    whenPlayList(playList) {\r\n      const bottom = playList.length ? '60px' : ''\r\n      this.$refs.listView.$el.style.bottom = bottom\r\n      this.$refs.listView.refresh()\r\n    },\r\n    // 事件：控制页面跳转到想要的位置\r\n    controlPageJump(e) {\r\n      // 通过获取.singer-group的索引来达到滚动的目的\r\n      if (e.type === 'touchstart') {\r\n        // .singer-group的索引 = 被点击的元素的索引\r\n        touch.y1 = e.touches[0].clientY\r\n        currentIndex = util.attr(e.target, 'index')\r\n        this.$refs.listView.scrollToElement(this.$refs.listGroup[currentIndex], 250)\r\n      } else if (e.type === 'touchmove') {\r\n        // .singer-group的索引 = (滑动到的位置 - 触摸时的位置) / 被点击元素的高度\r\n        touch.y2 = e.touches[0].clientY\r\n        const currentIndex1 = Math.floor(Number(currentIndex) + (touch.y2 - touch.y1) / this.$refs.shortcut[0].clientHeight)\r\n        this.$refs.listView.scrollToElement(this.$refs.listGroup[currentIndex1], 0)\r\n      }\r\n    },\r\n    // 事件：滚动时触发，设置右侧的快捷栏的高亮\r\n    scroll(coor) {\r\n      this.scrollY = coor.y\r\n      const groupPosition = util.getElPosition(this.$refs.listGroup)\r\n      const currentScrollInfo = util.getCurrentIndex(groupPosition, Math.abs(this.scrollY))\r\n      this.iIndex = currentScrollInfo.result\r\n      this.diff = currentScrollInfo.diffHeight\r\n    },\r\n    selectSinger(item) {\r\n      this.$emit('selectSinger', item)\r\n    }\r\n  },\r\n  watch: {\r\n    diff(newDiff) {\r\n      if (this.$refs.fixed) {\r\n        if (newDiff <= 30) {\r\n          this.$refs.fixed.style.top = newDiff - TITLE_HEIGHT + 'px'\r\n        } else {\r\n          this.$refs.fixed.style.top = 0\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n@import '../../common/stylus/variable';\r\n@import '../../common/stylus/mixin';\r\n.list-view\r\n  .loading-wrapper\r\n    position absolute\r\n    top 0\r\n    height 100%\r\n    width 100%\r\n    flex-center()\r\n  .list-view-wrapper\r\n    position fixed\r\n    top 88px\r\n    bottom 0\r\n    width 100%\r\n    overflow hidden\r\n    color #2e3c50\r\n    touch-action: none\r\n    .fixed-wrapper\r\n      position absolute\r\n      top 0\r\n      left 0\r\n      height 30px\r\n      font-size 14px\r\n      padding-left 20px\r\n      width 100%\r\n      box-sizing border-box\r\n      line-height 30px\r\n      background rgb(243, 243, 243)\r\n      box-shadow 1px 1px 5px #aaa\r\n      .fixed-title {\r\n        font-weight bold\r\n        color #000\r\n      }\r\n    .singer-group\r\n      padding-bottom 30px\r\n      .group-title\r\n        height 30px\r\n        padding-left 20px\r\n        line-height 30px\r\n        font-size 14px\r\n        background rgb(243, 243, 243)\r\n        font-weight bold\r\n        color #000\r\n      ul\r\n        .singer\r\n          margin 20px 0 0 30px\r\n          display flex\r\n          align-items center\r\n          border-radius 25px\r\n          .avatar\r\n            width 50px\r\n            height 50px\r\n            border-radius 12px\r\n          .name\r\n            margin-left 20px\r\n            height 100%\r\n            font-size 16px\r\n\r\n  .singer-shortcut-wrapper\r\n    position fixed\r\n    top 88px\r\n    right 0\r\n    bottom 0px\r\n    display flex\r\n    align-items center\r\n    font-size 12px\r\n    color #fff\r\n    .shortcut-list\r\n      display flex\r\n      padding 20px 0\r\n      width 20px\r\n      flex-direction column\r\n      justify-content space-between\r\n      align-items center\r\n      background rgba(0, 0, 0, .2)\r\n      border-radius 10px\r\n      box-sizing border-box\r\n      .shortcut\r\n        flex-center()\r\n        height 17px\r\n        width 100%\r\n        &.active\r\n          color #22d59c\r\n          font-weight bold\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./listView.vue?vue&type=template&id=43966cd2&scoped=true&\"\nimport script from \"./listView.vue?vue&type=script&lang=js&\"\nexport * from \"./listView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./listView.vue?vue&type=style&index=0&id=43966cd2&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43966cd2\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"singer\">\r\n    <list-view :data=\"singers\" @selectSinger=\"selectSinger\" />\r\n    <transition name=\"slide\">\r\n      <router-view></router-view>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from 'vuex'\r\nimport ListView from '@/base/listView/listView.vue'\r\nimport { getSingers } from '../../api/singer'\r\nconst HOT_SINGER_LEN = 10\r\nconst HOT_NAME = '热门'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      singers: []\r\n    }\r\n  },\r\n  components: {\r\n    ListView\r\n  },\r\n  created() {\r\n    this._getSingers()\r\n  },\r\n  methods: {\r\n    selectSinger(singer) {\r\n      this.$router.push({\r\n        path: `/singer/${singer.id}`\r\n      })\r\n      this.setSinger(singer)\r\n    },\r\n    _getSingers() {\r\n      getSingers()\r\n        .then(res => {\r\n          const nonstandard = res.data.list\r\n          this._normalizeSingers(nonstandard)\r\n        })\r\n    },\r\n    // 将后台获取的数据规范化\r\n    _normalizeSingers(list) {\r\n      const map = {\r\n        hot: {\r\n          title: HOT_NAME,\r\n          list: []\r\n        }\r\n      }\r\n      list.forEach((item, index) => {\r\n        if (index < HOT_SINGER_LEN) {\r\n          map.hot.list.push(this._spliceUrl({\r\n            id: item.Fsinger_mid,\r\n            name: item.Fsinger_name\r\n          }))\r\n        }\r\n        const key = item.Findex\r\n        if (!map[key]) {\r\n          map[key] = {\r\n            title: key,\r\n            list: []\r\n          }\r\n          map[key].list.push(this._spliceUrl({\r\n            id: item.Fsinger_mid,\r\n            name: item.Fsinger_name\r\n          }))\r\n        } else {\r\n          map[key].list.push(this._spliceUrl({\r\n            id: item.Fsinger_mid,\r\n            name: item.Fsinger_name\r\n          }))\r\n        }\r\n      })\r\n      // 将数据安照A-Z有序排列\r\n      const hot = [map.hot]\r\n      const nums = []\r\n      const other = []\r\n      for (const key in map) {\r\n        const item = map[key]\r\n        if (key.match(/[A-Z]/)) {\r\n          other.push(item)\r\n        } else if (key.match(/\\d/)) {\r\n          item.title = '#'\r\n          nums.push(item)\r\n        }\r\n      }\r\n      other.sort((a, b) => {\r\n        return a.title.charCodeAt(0) - b.title.charCodeAt(0)\r\n      })\r\n      this.singers = hot.concat(other, nums)\r\n    },\r\n    // 拼接头像的url\r\n    _spliceUrl({ id, name }) {\r\n      return {\r\n        id: id,\r\n        name: name,\r\n        avatar: `https://y.gtimg.cn/music/photo_new/T001R300x300M000${id}.jpg?max_age=2592000`\r\n      }\r\n    },\r\n    ...mapMutations(['setSinger'])\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\" scoped>\r\n.slide-enter-active, .slide-leave-active {\r\n  transition all .3s\r\n}\r\n.slide-enter, .slide-leave-to {\r\n  transform translate(100%, 0)\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Singer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Singer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Singer.vue?vue&type=template&id=7d2210fd&scoped=true&\"\nimport script from \"./Singer.vue?vue&type=script&lang=js&\"\nexport * from \"./Singer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Singer.vue?vue&type=style&index=0&id=7d2210fd&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d2210fd\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listView.vue?vue&type=style&index=0&id=43966cd2&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listView.vue?vue&type=style&index=0&id=43966cd2&lang=stylus&scoped=true&\"","import Request from '../common/util/request'\r\nimport * as config from './config'\r\n\r\nconst request = new Request()\r\n\r\nexport function getSingers() {\r\n  const URL = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\r\n  const params = Object.assign({}, config.jsonpCommonParams, {\r\n    channel: 'singer',\r\n    page: 'list',\r\n    key: 'all_all_all',\r\n    pagesize: 100,\r\n    pagenum: 2,\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    platform: 'yqq'\r\n  })\r\n  return request.jsonp(URL, params, config.jsonpOptions)\r\n    .then(res => {\r\n      return res\r\n    })\r\n}\r\n\r\nexport function getSingerDetail(singerId) {\r\n  const URL = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\r\n  const params = Object.assign({}, config.jsonpCommonParams, {\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    platform: 'yqq',\r\n    order: 'listen',\r\n    begin: 0,\r\n    num: 80,\r\n    songstatus: 1,\r\n    singermid: singerId\r\n  })\r\n  return request.jsonp(URL, params, config.jsonpOptions)\r\n    .then(res => {\r\n      return res\r\n    })\r\n}\r\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.github.io/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.fixed` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.fixed\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fixed') }, {\n  fixed: function fixed() {\n    return createHTML(this, 'tt', '', '');\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Singer.vue?vue&type=style&index=0&id=7d2210fd&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Singer.vue?vue&type=style&index=0&id=7d2210fd&lang=stylus&rel=stylesheet%2Fstylus&scoped=true&\""],"sourceRoot":""}